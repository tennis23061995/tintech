{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\controller\\index.js"
    ],
    "names": [
        "indexAction",
        "model",
        "findOne",
        "setting",
        "assign",
        "displayView",
        "getvideoAction",
        "post",
        "id",
        "console",
        "log",
        "item",
        "success",
        "content",
        "getnewsAction",
        "category",
        "findAll",
        "parentid",
        "lstcategory",
        "categories",
        "i",
        "length",
        "push",
        "rejectarticles",
        "itemname",
        "style",
        "where",
        "order",
        "limit",
        "select",
        "topList",
        "think",
        "isEmpty",
        "rejectnews",
        "newsList",
        "fetch",
        "newsList1",
        "menuAction",
        "b",
        "get",
        "pagenumber",
        "pagesize",
        "aurl",
        "itemId",
        "split",
        "urlrewrite",
        "replace",
        "parentids",
        "items",
        "getPageSelect",
        "ispublished",
        "itemList",
        "getPageCountSelect",
        "result",
        "Page",
        "adapter",
        "page",
        "http",
        "pageData",
        "pagination",
        "cate",
        "ca",
        "categoryparent",
        "pageAction",
        "aid",
        "aurlrewrite",
        "curl",
        "cid",
        "curlrewrite",
        "menuInfo",
        "blogInfo",
        "addViewCount",
        "viewcount",
        "tagItem",
        "name",
        "author",
        "acc",
        "html",
        "strArray",
        "particle",
        "ainfo",
        "pid",
        "indexOf",
        "getArticleList",
        "relatearticle",
        "title",
        "strArrayVal",
        "particleVal",
        "getReplyListInfo",
        "tid",
        "replyList",
        "session",
        "uinfo",
        "loginuserinfo",
        "type",
        "iscollect",
        "collectList",
        "tags",
        "keywords",
        "listtags",
        "tag",
        "JSON",
        "parse",
        "tagname",
        "previewAction",
        "newsAction",
        "getList",
        "nodeAction",
        "downloadAction",
        "activityAction",
        "othersAction",
        "jobsAction",
        "menu",
        "moreAction",
        "murl",
        "parseInt",
        "lsttags",
        "categoryAction",
        "toString",
        "linkssaveAction",
        "mydata",
        "domain",
        "link",
        "qq",
        "addRecord",
        "rs",
        "guestsaveAction",
        "nickname",
        "contact",
        "guest",
        "guestAction",
        "aboutAction",
        "adsAction",
        "copyrightAction",
        "linksAction",
        "policyAction",
        "donateAction",
        "dologoutAction",
        "redirect",
        "sitemapAction",
        "data",
        "sysdata",
        "list",
        "article",
        "topic",
        "user",
        "others",
        "url",
        "homeurl",
        "createXml",
        "liblogAction",
        "savereplyAction",
        "marked",
        "require",
        "setOptions",
        "renderer",
        "Renderer",
        "gfm",
        "tables",
        "breaks",
        "pedantic",
        "sanitize",
        "smartLists",
        "smartypants",
        "mycreatetime",
        "datetime",
        "createtime",
        "text",
        "json",
        "status",
        "errno",
        "errmsg",
        "comment",
        "isexist",
        "updata",
        "updatetime",
        "updateauthor",
        "updatepic",
        "pic",
        "updateRecord",
        "fail",
        "add",
        "increpoint",
        "config",
        "points",
        "increment",
        "replycount",
        "removereplyAction",
        "myid",
        "delete",
        "decrement",
        "postlikeAction",
        "liker",
        "likers",
        "arr",
        "n",
        "newlikers",
        "join",
        "m",
        "update",
        "like",
        "likeCount",
        "splice"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;;;;;;;;;AAEE;;;;;AAKA;mBACMA,W;;;;;;;;qBAEgB,KAAKC,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,gBAA3B,C;;;AAAdC,qB;;AACJ;AACA;AACA;AACA;AACA,mBAAKC,MAAL,CAAY,SAAZ,EAAsBD,OAAtB;;+CAEO,KAAKE,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAELC,c;;;;;;;;qBACS,KAAKC,IAAL,CAAU,IAAV,C;;;AAATC,gB;;AACJC,sBAAQC,GAAR,CAAY,UAAQF,EAApB;;qBACe,KAAKP,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,OAA3B,EAAmC,EAACM,IAAGA,EAAJ,EAAnC,C;;;AAAXG,kB;gDACG,KAAKC,OAAL,CAAa,EAACC,SAAQF,IAAT,EAAb,C;;;;;;;;;;;;;;;;;mBAEHG,a;;;;;;;;;qBACS,KAAKP,IAAL,CAAU,IAAV,C;;;AAATC,gB;;qBACe,KAAKP,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAGA,EAAJ,EAAlC,C;;;AAAfO,sB;;qBACkB,KAAKd,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAAST,EAAV,EAAlC,C;;;AAAlBU,yB;AACAC,wB,GAAW,CAACJ,SAASP,EAAV,C;;AACf,mBAAQY,CAAR,GAAU,CAAV,EAAYA,IAAEF,YAAYG,MAA1B,EAAiCD,GAAjC,EACA;AACED,2BAAWG,IAAX,CAAgBJ,YAAYE,CAAZ,EAAeZ,EAA/B;AACD;AACGK,qB,GAAQ,E;AACRU,4B,GAAe,CAAC,CAAD,C;;mBAChBR,SAASS,Q;;;;;oBACPT,SAASU,KAAT,IAAgB,C;;;;;;qBAED,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,qB;;kBACNC,MAAMC,OAAN,CAAcF,OAAd,C;;;;;AACAG,wB,GAAW,CAAC,CAAD,C;;AACT,mBAASb,CAAT,GAAa,CAAb,EAAgBA,IAAIU,QAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,QAAQV,CAAR,EAAWZ,EAA/B;AACAyB,2BAAWX,IAAX,CAAgBQ,QAAQV,CAAR,EAAWZ,EAA3B;AACD;;;qBAEkB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAfK,sB;;AACJ,mBAASd,CAAT,GAAa,CAAb,EAAgBA,IAAIc,SAASb,MAA7B,EAAqCD,GAArC,EAA0C;AACxCG,+BAAeD,IAAf,CAAoBY,SAASd,CAAT,EAAYZ,EAAhC;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,OAAvB;AACA,mBAAK1B,MAAL,CAAY,UAAZ,EAAwB8B,QAAxB;;qBACc,KAAKC,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;;;;;oBAGME,SAASU,KAAT,IAAgB,C;;;;;;qBAEJ,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,sB;;kBACAC,MAAMC,OAAN,CAAcF,QAAd,C;;;;;AACAG,wB,GAAW,E;;AACf,mBAASb,CAAT,GAAa,CAAb,EAAgBA,IAAIU,SAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,SAAQV,CAAR,EAAWZ,EAA/B;AACIyB,2BAAWX,IAAX,CAAgBQ,SAAQV,CAAR,EAAWZ,EAA3B;AACL;;;qBAEkB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAfK,uB;;;AAEJ,mBAASd,CAAT,GAAa,CAAb,EAAgBA,IAAIc,UAASb,MAA7B,EAAqCD,GAArC,EAA0C;AACxCG,+BAAeD,IAAf,CAAoBY,UAASd,CAAT,EAAYZ,EAAhC;AACAyB,2BAAWX,IAAX,CAAgBY,UAASd,CAAT,EAAYZ,EAA5B;AACD;;qBACmB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAhBO,uB;;AACJ,mBAAShB,CAAT,GAAa,CAAb,EAAgBA,IAAIgB,UAAUf,MAA9B,EAAsCD,GAAtC,EAA2C;AACzCG,+BAAeD,IAAf,CAAoBc,UAAUhB,CAAV,EAAaZ,EAAjC;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,QAAvB;AACA,mBAAK1B,MAAL,CAAY,UAAZ,EAAwB8B,SAAxB;AACE,mBAAK9B,MAAL,CAAY,WAAZ,EAAyBgC,SAAzB;;qBACY,KAAKD,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;;;;;oBAESE,SAASU,KAAT,IAAgB,C;;;;;;qBAEL,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,uB;;kBACRC,MAAMC,OAAN,CAAcF,SAAd,C;;;;;AACI,mBAASV,CAAT,GAAa,CAAb,EAAgBA,IAAIU,UAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,UAAQV,CAAR,EAAWZ,EAA/B;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,SAAvB;;qBACc,KAAKK,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;AAIJJ,sBAAQC,GAAR,CAAYG,OAAZ;gDACO,KAAKD,OAAL,CAAa,EAACC,SAAQA,OAAT,EAAb,C;;;;;;;;;;;;;;;;;mBAEHwB,U;;;;;;;;AACAC,e,GAAG,KAAKC,GAAL,CAAS,MAAT,C;;AACP9B,sBAAQC,GAAR,CAAY4B,CAAZ;AACIE,wB,GAAW,KAAKD,GAAL,CAAS,MAAT,KAAkB,C;AAC7BE,sB,GAAS,KAAKF,GAAL,CAAS,UAAT,KAAsB,E;;qBACpB,KAAKA,GAAL,CAAS,MAAT,C;;;AAAXG,kB;AACAC,oB,GAAOD,KAAKE,KAAL,CAAW,GAAX,EAAgBF,KAAKE,KAAL,CAAW,GAAX,EAAgBvB,MAAhB,GAAuB,CAAvC,C;AACPwB,wB,GAAWH,KAAKI,OAAL,CAAa,MAAIH,MAAjB,EAAwB,EAAxB,C;;qBAEI,KAAK1C,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAAC2C,YAAWA,UAAZ,EAAuBrC,IAAGmC,MAA1B,EAAlC,C;;;AAAf5B,sB;;qBACkB,KAAKd,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAAS0B,MAAV,EAAlC,C;;;AAAlBzB,yB;AACAC,wB,GAAW,CAACJ,SAASP,EAAV,C;;AACf,mBAAQY,CAAR,GAAU,CAAV,EAAYA,IAAEF,YAAYG,MAA1B,EAAiCD,GAAjC,EACA;AACED,2BAAWG,IAAX,CAAgBJ,YAAYE,CAAZ,EAAeZ,EAA/B;AACD;AACDC,sBAAQC,GAAR,CAAYK,SAASS,QAArB;AACIX,qB,GAAQ,E;AACRU,4B,GAAe,CAAC,CAAD,C;;mBAChBR,SAASS,Q;;;;;oBACPT,SAASU,KAAT,IAAgB,C;;;;;;qBAED,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,qB;;kBACNC,MAAMC,OAAN,CAAcF,OAAd,C;;;;;AACAG,wB,GAAW,CAAC,CAAD,C;;AACT,mBAASb,CAAT,GAAa,CAAb,EAAgBA,IAAIU,QAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,QAAQV,CAAR,EAAWZ,EAA/B;AACAyB,2BAAWX,IAAX,CAAgBQ,QAAQV,CAAR,EAAWZ,EAA3B;AACD;;;qBAEkB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAfK,sB;;AACJ,mBAASd,CAAT,GAAa,CAAb,EAAgBA,IAAIc,SAASb,MAA7B,EAAqCD,GAArC,EAA0C;AACxCG,+BAAeD,IAAf,CAAoBY,SAASd,CAAT,EAAYZ,EAAhC;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,OAAvB;AACA,mBAAK1B,MAAL,CAAY,UAAZ,EAAwB8B,QAAxB;;qBACc,KAAKC,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;;;;;oBAGME,SAASU,KAAT,IAAgB,C;;;;;;qBAEJ,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,uB;;kBACAC,MAAMC,OAAN,CAAcF,SAAd,C;;;;;AACAG,wB,GAAW,E;;AACf,mBAASb,CAAT,GAAa,CAAb,EAAgBA,IAAIU,UAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,UAAQV,CAAR,EAAWZ,EAA/B;AACIyB,2BAAWX,IAAX,CAAgBQ,UAAQV,CAAR,EAAWZ,EAA3B;AACL;;;qBAEkB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAfK,wB;;;AAEJ,mBAASd,CAAT,GAAa,CAAb,EAAgBA,IAAIc,WAASb,MAA7B,EAAqCD,GAArC,EAA0C;AACxCG,+BAAeD,IAAf,CAAoBY,WAASd,CAAT,EAAYZ,EAAhC;AACAyB,2BAAWX,IAAX,CAAgBY,WAASd,CAAT,EAAYZ,EAA5B;AACD;;qBACmB,KAAKP,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAAwBX,IAAG,CAAC,OAAD,EAASyB,UAAT,CAA3B,EAA5B,EAA8EN,KAA9E,CAAoF,qEAApF,EAA2JC,KAA3J,CAAiK,CAAjK,EAAoKC,MAApK,E;;;AAAhBO,uB;;AACJ,mBAAShB,CAAT,GAAa,CAAb,EAAgBA,IAAIgB,UAAUf,MAA9B,EAAsCD,GAAtC,EAA2C;AACzCG,+BAAeD,IAAf,CAAoBc,UAAUhB,CAAV,EAAaZ,EAAjC;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,SAAvB;AACA,mBAAK1B,MAAL,CAAY,UAAZ,EAAwB8B,UAAxB;AACE,mBAAK9B,MAAL,CAAY,WAAZ,EAAyBgC,SAAzB;;qBACY,KAAKD,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;;;;;oBAESE,SAASU,KAAT,IAAgB,C;;;;;;qBAEL,KAAKxB,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAACf,MAAK,CAAC,IAAD,EAAMQ,UAAN,CAAN,EAA5B,EAAsDQ,KAAtD,CAA4D,qEAA5D,EAAmIC,KAAnI,CAAyI,CAAzI,EAA4IC,MAA5I,E;;;AAAdC,uB;;kBACRC,MAAMC,OAAN,CAAcF,SAAd,C;;;;;AACI,mBAASV,CAAT,GAAa,CAAb,EAAgBA,IAAIU,UAAQT,MAA5B,EAAoCD,GAApC,EAAyC;AACvCG,+BAAeD,IAAf,CAAoBQ,UAAQV,CAAR,EAAWZ,EAA/B;AACD;AACD,mBAAKJ,MAAL,CAAY,SAAZ,EAAuB0B,SAAvB;;qBACc,KAAKK,KAAL,CAAW,mBAAX,C;;;AAAdtB,qB;;;AAGIkC,uB,GAAU,CAAChC,SAASP,EAAV,C;;oBACXO,SAASE,QAAT,IAAmB,C;;;;;;qBAEH,KAAKhB,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAASF,SAASP,EAAnB,EAAlC,C;;;AAAZwC,mB;;AACJ,kBAAGA,MAAM3B,MAAN,GAAa,CAAhB,EACA;AACE,qBAASD,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,MAAM3B,MAA1B,EAAkCD,GAAlC,EAAuC;AACrC2B,4BAAUzB,IAAV,CAAe0B,MAAM5B,CAAN,EAASZ,EAAxB;AACD;AACF;;;AAEJC,sBAAQC,GAAR,CAAY,YAAUa,cAAtB;;qBACqB,KAAKtB,KAAL,CAAW,MAAX,EAAmBgD,aAAnB,CAAiC,EAACtC,MAAM,CAAC,IAAD,EAAOoC,SAAP,CAAP,EAAyBvC,IAAG,CAAC,OAAD,EAASe,cAAT,CAA5B,EAAsD2B,aAAa,CAAnE,EAAjC,EAAwGV,UAAxG,EAAoHC,QAApH,C;;;AAAjBU,sB;;qBACe,KAAKlD,KAAL,CAAW,MAAX,EAAmBmD,kBAAnB,CAAsC;AACrDzC,sBAAM,CAAC,IAAD,EAAOoC,SAAP,CAD+C;AAErDvC,oBAAG,CAAC,OAAD,EAASe,cAAT,CAFkD;AAGrD2B,6BAAa;AAHwC,eAAtC,EAIhBV,UAJgB,EAIJC,QAJI,C;;;AAAfY,oB;AAKAC,kB,GAAOvB,MAAMwB,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACPC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAAWF,KAAKG,UAAL,CAAgBN,MAAhB,C;;AACf,mBAAKjD,MAAL,CAAY,UAAZ,EAAwBsD,QAAxB;AACA,mBAAKtD,MAAL,CAAY,UAAZ,EAAwB+C,QAAxB;;AAEA;AACIS,kB,GAAK,E;;AACTA,mBAAK7C,QAAL,GAAeA,QAAf;;qBACa,KAAKd,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAGO,SAASE,QAAb,EAAlC,C;;;AAAT4C,gB;;AACJ,kBAAG,CAAC9B,MAAMC,OAAN,CAAc6B,EAAd,CAAJ,EACA;AACED,qBAAKE,cAAL,GAAoBD,EAApB;AACD;AACD,mBAAKzD,MAAL,CAAY,UAAZ,EAAwBwD,IAAxB;AACA,mBAAKxD,MAAL,CAAY,SAAZ,EAAuBS,OAAvB;AACA,mBAAKT,MAAL,CAAY,MAAZ,EAAoB,CAApB;AACA,mBAAKA,MAAL,CAAY,MAAZ,EAAoByC,aAAW,GAAX,GAAgBF,MAApC;gDACO,KAAKtC,WAAL,CAAiB,YAAjB,C;;;gDAEA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;AAOb;;;mBACM0D,U;;;;;;;AACErB,kB,GAAK,KAAKH,GAAL,CAAS,MAAT,C;AACHyB,iB,GAAItB,KAAKE,KAAL,CAAW,GAAX,EAAgBF,KAAKE,KAAL,CAAW,GAAX,EAAgBvB,MAAhB,GAAuB,CAAvC,C;AACJ4C,yB,GAAYvB,KAAKI,OAAL,CAAa,MAAIkB,GAAjB,EAAqB,EAArB,C;AACZE,kB,GAAK,KAAK3B,GAAL,CAAS,MAAT,C;AACL4B,iB,GAAID,KAAKtB,KAAL,CAAW,GAAX,EAAgBsB,KAAKtB,KAAL,CAAW,GAAX,EAAgBvB,MAAhB,GAAuB,CAAvC,C;AACJ+C,yB,GAAYF,KAAKpB,OAAL,CAAa,MAAIqB,GAAjB,EAAqB,EAArB,C;;qBACG,KAAKlE,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAAC2C,YAAWuB,WAAZ,EAAwB5D,IAAG2D,GAA3B,EAAlC,C;;;AAAfE,sB;;AACJ5D,sBAAQC,GAAR,CAAY2D,SAAS7C,QAArB;;mBACG6C,SAAS7C,Q;;;;;;qBACK,KAAKvB,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,SAA3B,EAAqC,EAAC2C,YAAWoB,WAAZ,EAAwBzD,IAAGwD,GAA3B,EAA+BrD,MAAKwD,GAApC,EAArC,C;;;AAAfG,sB;;oBACDA,SAASpB,WAAT,KAAuB,C;;;;;;qBAEF,KAAKjD,KAAL,CAAW,MAAX,EAAmBsE,YAAnB,CAAgC,EAAC/D,IAAGwD,GAAJ,EAAhC,C;;;AAAhBQ,uB;;qBAEc,KAAKvE,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAG8D,SAAS3D,IAAb,EAAlC,C;;;AAAd8D,qB;;qBACU,KAAKxE,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACwE,MAAKJ,SAASK,MAAf,EAAlC,C;;;AAAVC,iB;;AACJnE,sBAAQC,GAAR,CAAY4D,SAASK,MAArB;AACA,mBAAKvE,MAAL,CAAY,UAAZ,EAAuBqE,QAAQjD,QAA/B;AACA,mBAAKpB,MAAL,CAAY,UAAZ,EAAuBkE,QAAvB;AACA,mBAAKlE,MAAL,CAAY,KAAZ,EAAkBwE,GAAlB;AACA;AACIC,kB,GAAKP,SAASzD,O;AACdiE,sB,GAAS,E,EAAGC,Q,GAAS,E,EAAGC,K,GAAM,E;AAC9BC,iB,GAAI,KAAK1C,GAAL,CAAS,KAAT,C;;AACR,kBAAGsC,IAAH,EAAQ;AACJ,oBAAGA,KAAKK,OAAL,CAAa,aAAb,IAA4B,CAA/B,EAAiC;AAC7BJ,6BAASD,KAAKjC,KAAL,CAAW,aAAX,CAAT;AACA,sBAAGqC,GAAH,EAAO;AACCzE,sBADD,GACIyE,MAAI,CAAJ,GAAM,CADV;;AAEHF,+BAASD,SAAStE,EAAT,CAAT;AACH,mBAHD,MAGK;AACDyE,0BAAI,CAAJ;AACAF,+BAASD,SAAS,CAAT,CAAT;AACH;AACJ;AACJ;AACD;;qBACwB,KAAK7E,KAAL,CAAW,MAAX,EAAmBkF,cAAnB,CAAkC,EAAC3E,IAAG,CAAC,IAAD,EAAOwD,GAAP,CAAJ,EAAgBrD,MAAK2D,SAAS3D,IAA9B,EAAmCuC,aAAY,CAA/C,EAAlC,C;;;AAApBkC,2B;;AACJ,mBAAKhF,MAAL,CAAY,eAAZ,EAA4BgF,aAA5B;;AAEA;AACIC,mB,GAAMf,SAASe,KAAT,IAAgB,E;AACtBC,yB,GAAYR,YAAU,E;AACtBS,yB,GAAYR,YAAU,E;;;AAE1B,mBAAK3E,MAAL,CAAY,OAAZ,EAAoBkE,SAASe,KAA7B;AACA,mBAAKjF,MAAL,CAAY,UAAZ,EAAuBkF,WAAvB;AACA,mBAAKlF,MAAL,CAAY,UAAZ,EAAuBmF,WAAvB;AACA,mBAAKnF,MAAL,CAAY,KAAZ,EAAkB6E,GAAlB;AACA,mBAAK7E,MAAL,CAAY,MAAZ,EAAmBiE,QAAnB;AACIT,kB,GAAK,E;;AACTA,mBAAK7C,QAAL,GAAesD,QAAf;;qBACa,KAAKpE,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAG6D,SAASpD,QAAb,EAAlC,C;;;AAAT4C,gB;;AACJ,kBAAG,CAAC9B,MAAMC,OAAN,CAAc6B,EAAd,CAAJ,EACA;AACED,qBAAKE,cAAL,GAAoBD,EAApB;AACD;AACD,mBAAKzD,MAAL,CAAY,UAAZ,EAAwBwD,IAAxB;;qBACkB,KAAK3D,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,gBAA3B,C;;;AAAdC,qB;;AACJ,mBAAKC,MAAL,CAAY,SAAZ,EAAsBD,OAAtB;AACV;;qBACoB,KAAKF,KAAL,CAAW,MAAX,EAAmBuF,gBAAnB,CAAoC,EAACC,KAAIzB,GAAL,EAApC,C;;;AAAhB0B,uB;;AACJ,mBAAKtF,MAAL,CAAY,WAAZ,EAAwBsF,SAAxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;qBACkB,KAAKC,OAAL,CAAa,OAAb,C;;;AAAZC,mB;;kBACA7D,MAAMC,OAAN,CAAc4D,KAAd,C;;;;;;qBAEsB,KAAK3F,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACwE,MAAKkB,MAAMlB,IAAZ,EAAlC,C;;;AAApBmB,2B;;AACJ,mBAAKzF,MAAL,CAAY,eAAZ,EAA4ByF,aAA5B;AACA;;qBACsB,KAAK5F,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,cAA3B,EAA0C,EAACgD,KAAIA,GAAL,EAAS8B,MAAK,SAAd,EAAwBnB,QAAOiB,MAAMlB,IAArC,EAA0CqB,WAAU,CAApD,EAA1C,C;;;AAAlBC,yB;;AACJ,kBAAGA,YAAY3E,MAAZ,GAAmB,CAAtB,EAAwB;AACtB,qBAAKjB,MAAL,CAAY,KAAZ,EAAkB4F,YAAY,CAAZ,EAAexF,EAAjC;AACA,qBAAKJ,MAAL,CAAY,WAAZ,EAAwB,CAAxB;AACD,eAHD,MAGM;AACJ,qBAAKA,MAAL,CAAY,KAAZ,EAAkB,EAAlB;AACA,qBAAKA,MAAL,CAAY,WAAZ,EAAwB,CAAxB;AACD;;;AAEC6F,kB,GAAK3B,SAAS4B,QAAT,CAAkBtD,KAAlB,CAAwB,GAAxB,C;AACLuD,sB,GAAS,EAACF,MAAK,EAAN,E;AACPC,sB,GAAS,E;;kBACXnE,MAAMC,OAAN,CAAciE,IAAd,C;;;;;AACI7E,e,GAAE,C;;;oBAAEA,IAAE6E,KAAK5E,M;;;;;kBAEbU,MAAMC,OAAN,CAAciE,KAAK7E,CAAL,CAAd,C;;;;;;qBAEY,KAAKnB,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAGyF,KAAK7E,CAAL,CAAJ,EAAlC,C;;;AAAVgF,iB;;AACJD,uBAASF,IAAT,CAAc3E,IAAd,CAAmB,EAAC8E,KAAIC,KAAKC,KAAL,CAAW,yBAAeF,GAAf,CAAX,CAAL,EAAnB;;;AALsBhF,iB;;;;;;AAS1B,kBAAG+E,SAASF,IAAT,CAAc5E,MAAd,GAAqB,CAAxB,EACA;AACE,qBAAQD,CAAR,GAAU,CAAV,EAAYA,IAAE+E,SAASF,IAAT,CAAc5E,MAA5B,EAAmCD,GAAnC,EACA;AACE,sBAAGA,KAAI+E,SAASF,IAAT,CAAc5E,MAAd,GAAqB,CAA5B,EAA+B6E,YAAUC,SAASF,IAAT,CAAc7E,CAAd,EAAiBgF,GAAjB,CAAqBG,OAA/B,CAA/B,KACKL,YAAUC,SAASF,IAAT,CAAc7E,CAAd,EAAiBgF,GAAjB,CAAqBG,OAArB,GAA6B,IAAvC;AACN;AACF;;;AAEH,mBAAKnG,MAAL,CAAY,UAAZ,EAAuB8F,QAAvB;AACA,mBAAK9F,MAAL,CAAY,UAAZ,EAAuB+F,QAAvB;gDACiB,KAAK9F,WAAL,CAAiB,YAAjB,C;;;;;;;gDAGA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;;mBAIPmG,a;;;;;;;;qBACa,KAAKjE,GAAL,CAAS,KAAT,C;;;AAAXyB,iB;;qBACe,KAAK/D,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,SAA3B,EAAqC,EAACM,IAAGwD,GAAJ,EAArC,C;;;AAAfM,sB;;qBAEgB,KAAKrE,KAAL,CAAW,MAAX,EAAmBsE,YAAnB,CAAgC,EAAC/D,IAAGwD,GAAJ,EAAhC,C;;;AAAhBQ,uB;;qBAEc,KAAKvE,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAG8D,SAAS8B,GAAb,EAAlC,C;;;AAAd3B,qB;;AACJ,mBAAKrE,MAAL,CAAY,UAAZ,EAAuBkE,QAAvB;AACA;AACIO,kB,GAAKP,SAASzD,O;AACdiE,sB,GAAS,E,EAAGC,Q,GAAS,E,EAAGC,K,GAAM,E;AAC9BC,iB,GAAI,KAAK1C,GAAL,CAAS,KAAT,C;;AACR,kBAAGsC,IAAH,EAAQ;AACJ,oBAAGA,KAAKK,OAAL,CAAa,aAAb,IAA4B,CAA/B,EAAiC;AAC7BJ,6BAASD,KAAKjC,KAAL,CAAW,aAAX,CAAT;AACA,sBAAGqC,GAAH,EAAO;AACCzE,sBADD,GACIyE,MAAI,CAAJ,GAAM,CADV;;AAEHF,+BAASD,SAAStE,EAAT,CAAT;AACH,mBAHD,MAGK;AACDyE,0BAAI,CAAJ;AACAF,+BAASD,SAAS,CAAT,CAAT;AACH;AACJ;AACJ;AACD;AACIyB,qB,GAAQ9B,QAAQ8B,OAAR,IAAiB,E;AACzBlB,mB,GAAMf,SAASe,KAAT,IAAgB,E;AACtBC,yB,GAAYR,YAAU,E;AACtBS,yB,GAAYR,YAAU,E;;;AAE1B,mBAAK3E,MAAL,CAAY,OAAZ,EAAoBkE,SAASe,KAA7B;AACA,mBAAKjF,MAAL,CAAY,UAAZ,EAAuBkF,WAAvB;AACA,mBAAKlF,MAAL,CAAY,UAAZ,EAAuBmF,WAAvB;AACA,mBAAKnF,MAAL,CAAY,KAAZ,EAAkB6E,GAAlB;AACA,mBAAK7E,MAAL,CAAY,SAAZ,EAAsBmG,OAAtB;gDACO,KAAKlG,WAAL,CAAiB,eAAjB,C;;;;;;;;;;;;;;;;AAEZ;;;mBACOoG,U;;;;;;AACF,mBAAKC,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMC,U;;;;;;AACF,mBAAKD,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACME,c;;;;;;AACF,mBAAKF,OAAL,CAAa,CAAb,EAAe,UAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMG,c;;;;;;AACF,mBAAKH,OAAL,CAAa,CAAb,EAAe,UAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMI,Y;;;;;;AACF,mBAAKJ,OAAL,CAAa,CAAb,EAAe,QAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMK,U;;;;;;AACF,mBAAKL,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMA,O;+FAAQ/D,M,EAAOqE,I;;;;;;AACbxE,wB,GAAW,KAAKD,GAAL,CAAS,MAAT,KAAkB,C;AAC7BE,sB,GAAS,KAAKF,GAAL,CAAS,UAAT,KAAsB,E;AACnC;;;qBACmB,KAAKtC,KAAL,CAAW,MAAX,EAAmBgD,aAAnB,CAAiC,EAACtC,MAAKgC,MAAN,EAAaO,aAAY,CAAzB,EAAjC,EAA6DV,UAA7D,EAAwEC,QAAxE,C;;;AAAfU,sB;;qBACe,KAAKlD,KAAL,CAAW,MAAX,EAAmBmD,kBAAnB,CAAsC,EAACzC,MAAKgC,MAAN,EAAaO,aAAY,CAAzB,EAAtC,EAAkEV,UAAlE,EAA6EC,QAA7E,C;;;AAAfY,oB;AACAC,kB,GAAKvB,MAAMwB,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACLC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAASF,KAAKG,UAAL,CAAgBN,MAAhB,C;;;AAEb,mBAAKjD,MAAL,CAAY,UAAZ,EAAuB+C,QAAvB;AACA,mBAAK/C,MAAL,CAAY,UAAZ,EAAuBsD,QAAvB;AACA,mBAAKtD,MAAL,CAAY,MAAZ,EAAmB4G,IAAnB;AACA;;;qBAEe,KAAK/G,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAACM,IAAGmC,MAAJ,EAAlC,C;;;AAAXhC,kB;;AACJ,mBAAKP,MAAL,CAAY,cAAZ,EAA2BO,KAAKa,QAAhC;AACA,mBAAKpB,MAAL,CAAY,MAAZ,EAAmB,CAAnB;iDACO,KAAKC,WAAL,CAAiB,YAAjB,C;;;;;;;;;;;;;;;;;mBAEL4G,U;;;;;;;AACEC,kB,GAAK,KAAK3E,GAAL,CAAS,MAAT,C;AACLI,oB,GAAOuE,KAAKtE,KAAL,CAAW,GAAX,EAAgBsE,KAAKtE,KAAL,CAAW,GAAX,EAAgBvB,MAAhB,GAAuB,CAAvC,C;AACPwB,wB,GAAWqE,KAAKpE,OAAL,CAAa,MAAIH,MAAjB,EAAwB,EAAxB,C;AACXH,wB,GAAW,KAAKD,GAAL,CAAS,MAAT,KAAkB,C;AAC7BE,sB,GAAS,KAAKF,GAAL,CAAS,UAAT,KAAsB,E;;qBACnB,KAAKtC,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAASkG,SAASxE,MAAT,CAAV,EAAlC,C;;;AAAZK,mB;AACAoE,qB,GAAQ,CAACD,SAASxE,MAAT,CAAD,C;;AACZ,mBAASvB,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,MAAM3B,MAA1B,EAAkCD,GAAlC,EAAuC;AACrCX,wBAAQC,GAAR,CAAYsC,MAAM5B,CAAN,EAASZ,EAArB;AACA4G,wBAAQ9F,IAAR,CAAa0B,MAAM5B,CAAN,EAASZ,EAAtB;AACD;AACDC,sBAAQC,GAAR,CAAY0G,OAAZ;;qBACe,KAAKnH,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAAC2C,YAAWA,UAAZ,EAAuBrC,IAAG,CAAC,IAAD,EAAO4G,OAAP,CAA1B,EAAlC,C;;;AAAXzG,kB;;mBACDA,KAAKa,Q;;;;;;qBAEW,KAAKvB,KAAL,CAAW,MAAX,EAAmBgD,aAAnB,CAAiC,EAACC,aAAY,CAAb,EAAevC,MAAKgC,MAApB,EAAjC,EAA6DH,UAA7D,EAAwEC,QAAxE,C;;;AAAfU,sB;;qBACe,KAAKlD,KAAL,CAAW,MAAX,EAAmBmD,kBAAnB,CAAsC,EAACF,aAAY,CAAb,EAAevC,MAAKgC,MAApB,EAAtC,EAAkEH,UAAlE,EAA6EC,QAA7E,C;;;AAAfY,oB;AACAC,kB,GAAKvB,MAAMwB,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACLC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAASF,KAAKG,UAAL,CAAgBN,MAAhB,C;;;AAEb,mBAAKjD,MAAL,CAAY,UAAZ,EAAuB+C,QAAvB;AACA,mBAAK/C,MAAL,CAAY,UAAZ,EAAuBsD,QAAvB;AACA,mBAAKtD,MAAL,CAAY,MAAZ,EAAmB,YAAUyC,UAAV,GAAqB,GAArB,GAA0BF,MAA7C;AACA;AACA,mBAAKvC,MAAL,CAAY,MAAZ,EAAmB,CAAnB;AACA,mBAAKA,MAAL,CAAY,cAAZ,EAA2B,MAA3B;iDACO,KAAKC,WAAL,CAAiB,gBAAjB,C;;;iDAEE,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;AAGb;;;mBACMgH,c;;;;;;;AACE/E,e,GAAG,KAAKC,GAAL,CAAS,MAAT,C;;AACP9B,sBAAQC,GAAR,CAAY4B,CAAZ;AACIE,wB,GAAW,KAAKD,GAAL,CAAS,MAAT,KAAkB,C;AAC7BE,sB,GAAS,KAAKF,GAAL,CAAS,UAAT,KAAsB,E;;qBACpB,KAAKA,GAAL,CAAS,MAAT,C;;;AAAXG,kB;AACAC,oB,GAAOD,KAAKE,KAAL,CAAW,GAAX,EAAgBF,KAAKE,KAAL,CAAW,GAAX,EAAgBvB,MAAhB,GAAuB,CAAvC,C;AACPwB,wB,GAAWH,KAAKI,OAAL,CAAa,MAAIH,MAAjB,EAAwB,EAAxB,C;;AACflC,sBAAQC,GAAR,CAAYiC,MAAZ;AACAlC,sBAAQC,GAAR,CAAYmC,UAAZ;;qBACmB,KAAK5C,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,MAA3B,EAAkC,EAAC2C,YAAWA,UAAZ,EAAuBrC,IAAGmC,MAA1B,EAAlC,C;;;AAAf5B,sB;;mBACDA,SAASwF,O;;;;;;qBACa,KAAKtG,KAAL,CAAW,MAAX,EAAmBgD,aAAnB,CAAiC,EAACiD,UAAU,CAAC,MAAD,EAAS,OAAKvD,OAAO2E,QAAP,EAAL,GAAuB,IAAhC,CAAX,EAAkDpE,aAAa,CAA/D,EAAjC,EAAoGV,UAApG,EAAgHC,QAAhH,C;;;AAAjBU,sB;;qBACe,KAAKlD,KAAL,CAAW,MAAX,EAAmBmD,kBAAnB,CAAsC;AACrD8C,0BAAU,CAAC,MAAD,EAAS,OAAKvD,OAAO2E,QAAP,EAAL,GAAuB,IAAhC,CAD2C;AAErDpE,6BAAa;AAFwC,eAAtC,EAGhBV,UAHgB,EAGJC,QAHI,C;;;AAAfY,oB;AAIAC,kB,GAAOvB,MAAMwB,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACPC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAAWF,KAAKG,UAAL,CAAgBN,MAAhB,C;;AACf5C,sBAAQC,GAAR,CAAY,QAAMyC,QAAlB;AACA,mBAAK/C,MAAL,CAAY,UAAZ,EAAwB+C,QAAxB;AACA,mBAAK/C,MAAL,CAAY,UAAZ,EAAwBsD,QAAxB;AACA;AACA,mBAAKtD,MAAL,CAAY,UAAZ,EAAwBW,QAAxB;AACA,mBAAKX,MAAL,CAAY,MAAZ,EAAoB,CAApB;AACA,mBAAKA,MAAL,CAAY,MAAZ,EAAoB,cAAYyC,UAAZ,GAAuB,GAAvB,GAA4BF,MAAhD;iDACO,KAAKtC,WAAL,CAAiB,gBAAjB,C;;;iDAEA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;;AAKf;;;mBACMkH,e;;;;;;;;qBACgB,KAAKhH,IAAL,E;;;AAAdiH,oB;;oBACDA,OAAOC,MAAP,KAAgB,EAAhB,IAAoBD,OAAOE,IAAP,KAAc,EAAlC,IAAsCF,OAAOG,EAAP,KAAY,E;;;;;;qBACtC,KAAK1H,KAAL,CAAW,MAAX,EAAmB2H,SAAnB,CAA6B,OAA7B,EAAqCJ,MAArC,C;;;AAATK,gB;;mBACDA,E;;;;;iDAAW,KAAKjH,OAAL,E;;;;;;;;;;;;;;;;AAGpB;;;mBACMkH,e;;;;;;;;qBACgB,KAAKvH,IAAL,E;;;AAAdiH,oB;;oBACDA,OAAOO,QAAP,KAAkB,EAAlB,IAAsBP,OAAOQ,OAAP,KAAiB,EAAvC,IAA2CR,OAAOS,KAAP,KAAe,E;;;;;;qBAC9C,KAAKhI,KAAL,CAAW,MAAX,EAAmB2H,SAAnB,CAA6B,OAA7B,EAAqCJ,MAArC,C;;;AAATK,gB;;mBACDA,E;;;;;iDAAW,KAAKjH,OAAL,E;;;;;;;;;;;;;;;;;mBAGdsH,W;;;;;;AACF,mBAAK9H,MAAL,CAAY,OAAZ,EAAoB,KAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAEL8H,W;;;;;;AACF,mBAAK/H,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAEL+H,S;;;;;;AACF,mBAAKhI,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,WAAjB,C;;;;;;;;;;;;;;;;;mBAELgI,e;;;;;;AACF,mBAAKjI,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,iBAAjB,C;;;;;;;;;;;;;;;;;mBAELiI,W;;;;;;AACF,mBAAKlI,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAELkI,Y;;;;;;AACF,mBAAKnI,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAELmI,Y;;;;;;AACF,mBAAKpI,MAAL,CAAY,OAAZ,EAAoB,IAApB;iDACO,KAAKC,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAELoI,c;;;;;;AACG,mBAAK9C,OAAL,CAAa,OAAb,EAAqB,EAArB;iDACA,KAAK+C,QAAL,CAAc,GAAd,C;;;;;;;;;;;;;;;;;AAGT;;;mBACMC,a;;;;;;;;AAEA;AACIC,kB,GAAK,E;;qBACS,KAAK3I,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,QAA3B,EAAoC,EAACM,IAAG,CAAJ,EAApC,C;;;AAAdqI,qB;;qBAEW,KAAK5I,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,C;;;AAAX8H,kB;;qBAEc,KAAK7I,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,SAA3B,C;;;AAAd+H,qB;;qBAEY,KAAK9I,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,OAA3B,C;;;AAAZgI,mB;;qBAEW,KAAK/I,KAAL,CAAW,MAAX,EAAmBe,OAAnB,CAA2B,MAA3B,C;;;AAAXiI,kB;AACAC,oB,GAAO,CACK,EAAE1I,IAAI,CAAN,EAASgB,UAAU,KAAnB,EAAyB2H,KAAI,aAA7B,EADL,EAEK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,MAAnB,EAA0B2H,KAAI,WAA9B,EAFL,EAGK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,QAAnB,EAA4B2H,KAAI,WAAhC,EAHL,EAIK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,MAAnB,EAA0B2H,KAAI,eAA9B,EAJL,EAKK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,IAAnB,EAAwB2H,KAAI,WAA5B,EALL,EAMK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,IAAnB,EAAwB2H,KAAI,eAA5B,EANL,EAOK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,IAAnB,EAAwB2H,KAAI,YAA5B,EAPL,EAQK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,MAAnB,EAA0B2H,KAAI,YAA9B,EARL,EASK,EAAE3I,IAAI,CAAN,EAASgB,UAAU,IAAnB,EAAwB2H,KAAI,eAA5B,EATL,EAUK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,IAApB,EAAyB2H,KAAI,aAA7B,EAVL,EAWK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,MAApB,EAA2B2H,KAAI,UAA/B,EAXL,EAYK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,MAApB,EAA2B2H,KAAI,aAA/B,EAZL,EAaK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,MAApB,EAA2B2H,KAAI,gBAA/B,EAbL,EAcK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,MAApB,EAA2B2H,KAAI,YAA/B,EAdL,EAeK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,KAApB,EAA0B2H,KAAI,YAA9B,EAfL,EAgBK,EAAE3I,IAAI,EAAN,EAAUgB,UAAU,QAApB,EAA6B2H,KAAI,aAAjC,EAhBL,C;;AAkBXP,qBAAK;AACDQ,yBAAQP,QAAQM,GADf;AAEDL,sBAAKA,IAFJ;AAGDC,yBAAQA,OAHP;AAIDG,wBAAOA,MAJN;AAKDF,uBAAMA,KALL;AAMDC,sBAAKA;AANJ,eAAL;AAQA,gCAAOI,SAAP,CAAiBT,IAAjB;iDACO,KAAKvI,WAAL,CAAiB,eAAjB,C;;;;;;;;;;;;;;;;;mBAIPiJ,Y;;;;;;iDACG,KAAKjJ,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAMHkJ,e;;;;;;;;AACJ9I,sBAAQC,GAAR,CAAY,KAAZ;AACA;AACI8I,oB,GAASC,QAAQ,QAAR,C;;AACbD,qBAAOE,UAAP,CAAkB;AACdC,0BAAU,IAAIH,OAAOI,QAAX,EADI;AAEdC,qBAAK,IAFS;AAGdC,wBAAQ,IAHM;AAIdC,wBAAQ,IAJM;AAKdC,0BAAU,KALI;AAMdC,0BAAU,IANI;AAOdC,4BAAY,IAPE;AAQdC,6BAAa;AARC,eAAlB;AAUMC,0B,GAAarI,MAAMsI,QAAN,CAAe,KAAK9J,IAAL,CAAU,YAAV,CAAf,C;;qBACF,KAAKA,IAAL,E;;;AAAXqI,kB;;AACJA,mBAAK0B,UAAL,GAAgBF,YAAhB;;oBACGxB,KAAK2B,IAAL,KAAY,E;;;;;iDACN,KAAKC,IAAL,CAAU,EAACC,QAAO,CAAR,EAAUC,OAAM,CAAhB,EAAkBC,QAAO,yBAAzB,EAAV,C;;;AAEP;AACI9F,kB,GAAK2E,OAAOZ,KAAKgC,OAAZ,C;AACT;;kBACI7I,MAAMC,OAAN,CAAc4G,KAAKpI,EAAnB,C;;;;;;qBAEgB,KAAKP,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,iBAA3B,EAA6C,EAACM,IAAGoI,KAAKpI,EAAT,EAA7C,C;;;AAAdqK,qB;;qBACU,KAAK5K,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,SAA3B,EAAqC,EAACM,IAAGoI,KAAKnD,GAAT,EAArC,C;;;AAAVA,iB;;oBACD,CAAC1D,MAAMC,OAAN,CAAc6I,OAAd,CAAD,IAAyB,CAAC9I,MAAMC,OAAN,CAAcyD,GAAd,C;;;;;AAC3B;AACIqF,oB,GAAO;AACTC,4BAAWX,YADF;AAETY,8BAAapC,KAAKjE,MAFT;AAGTsG,2BAAUrC,KAAKsC;AAHN,e;AAKX;AACA;AACA;;;qBACa,KAAKjL,KAAL,CAAW,MAAX,EAAmBkL,YAAnB,CAAgC,iBAAhC,EAAkD,EAAC3K,IAAGoI,KAAKpI,EAAT,EAAlD,EAA+DoI,IAA/D,C;;;AAATf,gB;;mBACDA,E;;;;;iDAAW,KAAKjH,OAAL,E;;;;;;;iDAEP,KAAKwK,IAAL,CAAU,gBAAV,C;;;;;;;AAGP3K,sBAAQC,GAAR,CAAY,YAAZ;AACF;AACIoK,qB,GAAO;AACTC,4BAAWX,YADF;AAETY,8BAAapC,KAAKjE,MAFT;AAGTsG,2BAAUrC,KAAKsC;AAHN,e;;AAKXzK,sBAAQC,GAAR,CAAYkI,KAAKnD,GAAjB;AACF;AACE;AACA;AACAhF,sBAAQC,GAAR,CAAY,aAAZ;;qBACa,KAAKT,KAAL,CAAW,iBAAX,EAA8BoL,GAA9B,CAAkCzC,IAAlC,C;;;AAATf,iB;;qBAEa,KAAK5H,KAAL,CAAW,MAAX,EAAmBqL,UAAnB,CAA8B,EAAC5G,MAAKkE,KAAKjE,MAAX,EAA9B,EAAiD,KAAK4G,MAAL,CAAY,kBAAZ,CAAjD,C;;;AAAbC,oB;;qBAEiB,KAAKvL,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAAClB,IAAGoI,KAAKnD,GAAT,EAA5B,EAA2CgG,SAA3C,CAAqD,YAArD,EAAkE,CAAlE,C;;;AAAjBC,wB;;mBACD7D,G;;;;;iDAAW,KAAKjH,OAAL,E;;;;;;;;;;;;;;;;;mBAIhB+K,iB;;;;;;;;qBACa,KAAKpL,IAAL,E;;;AAAXqI,kB;AACAgD,kB,GAAKhD,KAAKpI,E;;kBACVuB,MAAMC,OAAN,CAAc4J,IAAd,C;;;;;;qBACa,KAAK3L,KAAL,CAAW,iBAAX,EAA8ByB,KAA9B,CAAoC,EAAClB,IAAGoL,IAAJ,EAApC,EAA+CC,MAA/C,E;;;AAAThE,gB;;qBAEiB,KAAK5H,KAAL,CAAW,SAAX,EAAsByB,KAAtB,CAA4B,EAAClB,IAAGoI,KAAKnD,GAAT,EAA5B,EAA2CqG,SAA3C,CAAqD,YAArD,EAAkE,CAAlE,C;;;AAAjBJ,wB;;mBACD7D,E;;;;;iDAAW,KAAKjH,OAAL,E;;;;;;;;;;;;;;;;;mBAGhBmL,c;;;;;;;;;qBACa,KAAKxL,IAAL,E;;;AAAXqI,kB;AACAoD,mB,GAAMpD,KAAKqD,M;AACXL,kB,GAAKhD,KAAKpI,E;;kBACVuB,MAAMC,OAAN,CAAc4J,IAAd,C;;;;;;qBACe,KAAK3L,KAAL,CAAW,MAAX,EAAmBC,OAAnB,CAA2B,iBAA3B,EAA6C,EAACM,IAAGoL,IAAJ,EAA7C,C;;;AAAXjL,kB;AACAuL,iB,GAAK,CAACvL,KAAKsL,MAAP,GAAe,EAAf,GAAmBtL,KAAKsL,MAAN,CAAcrJ,KAAd,CAAoB,GAApB,C;AACtBqJ,oB,GAAOC,OAAK,E;AACZC,e,GAAEF,OAAO/G,OAAP,CAAe8G,KAAf,C;;oBACHG,IAAE,C;;;;;AACHF,qBAAO3K,IAAP,CAAY0K,KAAZ;AACII,uB,GAAUH,OAAOI,IAAP,CAAY,GAAZ,C;AACVC,e,GAAEL,OAAO5K,M;;qBACA,KAAKpB,KAAL,CAAW,iBAAX,EAA8ByB,KAA9B,CAAoC,EAAClB,IAAGoL,IAAJ,EAApC,EAA+CW,MAA/C,CAAsD,EAACC,MAAKF,CAAN,EAAQL,QAAOG,SAAf,EAAtD,C;;;AAATvE,gB;;mBACDA,E;;;;;iDAAW,KAAKjH,OAAL,CAAa,EAAC6L,WAAUH,CAAX,EAAb,C;;;;;;;AAEdL,qBAAOS,MAAP,CAAcP,CAAd,EAAgB,CAAhB;AACIG,gB,GAAEL,OAAO5K,M;AACT+K,wB,GAAUH,OAAOI,IAAP,CAAY,GAAZ,C;;qBACD,KAAKpM,KAAL,CAAW,iBAAX,EAA8ByB,KAA9B,CAAoC,EAAClB,IAAGoL,IAAJ,EAApC,EAA+CW,MAA/C,CAAsD,EAACC,MAAKF,EAAN,EAAQL,QAAOG,UAAf,EAAtD,C;;;AAATvE,kB;;mBACDA,I;;;;;iDAAW,KAAKjH,OAAL,CAAa,EAAC6L,WAAUH,EAAX,EAAb,C",
    "file": "..\\..\\..\\src\\home\\controller\\index.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport Create from './sitemap.js';\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n\n  // 首页\n  async indexAction(){\n\n      let setting=await this.model('home').findOne('system_comment');\n      // this.assign(\"demo\",\"demo\")\n      // let content = await this.fetch('admin/content/style1');\n      // console.log(content);\n      //   this.assign(\"ss\",content)\n      this.assign(\"setting\",setting);\n\n      return this.displayView('index_index');\n  }\n  async getvideoAction(){\n    let id=await this.post(\"id\");\n    console.log(\"video\"+id);\n    var item=await this.model(\"home\").findOne(\"video\",{id:id});\n    return this.success({content:item});\n  }\n  async getnewsAction(){\n    let id=await this.post(\"id\");\n    var category=await this.model(\"home\").findOne(\"item\",{id:id});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:id});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n      }\n    console.log(content);\n    return this.success({content:content});\n  }\n  async menuAction(){\n    let b= this.get(\"page\");\n    console.log(b);\n    let pagenumber=this.get(\"page\")||1;\n    let pagesize=this.get(\"pagesize\")||10;\n    let aurl=await this.get(\"curl\");\n    let itemId=aurl.split('-')[aurl.split('-').length-1];\n    let urlrewrite=aurl.replace(\"-\"+itemId,\"\");\n\n    let category=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:itemId});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:itemId});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    console.log(category.itemname)\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n        var parentids=[category.id];\n        if(category.parentid==0)\n        {\n           var items=await this.model(\"home\").findAll(\"item\",{parentid:category.id});\n           if(items.length>0)\n           {\n             for (var i = 0; i < items.length; i++) {\n               parentids.push(items[i].id);\n             }\n           }\n        }\n        console.log(\"reject:\"+rejectarticles);\n        let itemList = await this.model(\"home\").getPageSelect({item: [\"IN\", parentids],id:[\"NOTIN\",rejectarticles], ispublished: 1}, pagenumber, pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({\n            item: [\"IN\", parentids],\n            id:[\"NOTIN\",rejectarticles],\n            ispublished: 1\n        }, pagenumber, pagesize);\n        let Page = think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData = page.pagination(result);\n        this.assign('pageData', pageData);\n        this.assign(\"itemList\", itemList);\n\n        //分页\n        var cate={};\n        cate.category= category;\n        var ca=await this.model(\"home\").findOne(\"item\",{id:category.parentid});\n        if(!think.isEmpty(ca))\n        {\n          cate.categoryparent=ca;\n        }\n        this.assign('category', cate);\n        this.assign('content', content);\n        this.assign('more', 0);\n        this.assign('menu', urlrewrite+'-'+ itemId);\n        return this.displayView('index_menu');\n    }else{\n        return this.displayView(\"../common/error_404\");\n    }\n\n        //let curl=this.get(\"curl\");\n      //  console.log(\"aaaa\"+curl);\n      //  return this.displayView('index_menu');\n  }\n  //文章页\n  async pageAction(){\n      let aurl=this.get(\"aurl\");\n        let aid=aurl.split('-')[aurl.split('-').length-1];\n        let aurlrewrite=aurl.replace(\"-\"+aid,\"\");\n        let curl=this.get(\"curl\");\n        let cid=curl.split('-')[curl.split('-').length-1];\n        let curlrewrite=curl.replace(\"-\"+cid,\"\");\n        let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n        console.log(menuInfo.itemname)\n        if(menuInfo.itemname){\n      let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n      if(blogInfo.ispublished===1){\n          // 设置浏览量加1\n          let viewcount=await this.model(\"home\").addViewCount({id:aid});\n          //获取标签名\n          let tagItem=await this.model(\"home\").findOne(\"item\",{id:blogInfo.item});\n          let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n          console.log(blogInfo.author);\n          this.assign('itemname',tagItem.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          this.assign('category', cate);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_page');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n\n    async previewAction(){\n        let aid= await this.get(\"aid\");\n        let blogInfo=await this.model(\"home\").findOne(\"article\",{id:aid});\n        // 设置浏览量加1\n        let viewcount=await this.model(\"home\").addViewCount({id:aid});\n        //获取标签名\n        let tagItem=await this.model(\"home\").findOne(\"tags\",{id:blogInfo.tag});\n        this.assign('blogInfo',blogInfo);\n        //设置文章分页\n        let html=blogInfo.content;\n        let strArray=[],particle='',ainfo='';\n        let pid=this.get('pid');\n        if(html){\n            if(html.indexOf(\"<!--page-->\")>0){\n                strArray=html.split(\"<!--page-->\");\n                if(pid){\n                    let id=pid*1-1;\n                    particle=strArray[id];\n                }else{\n                    pid=1;\n                    particle=strArray[0];\n                }\n            }\n        }\n        //跳转到内容分页\n        let tagname=tagItem.tagname||'';\n        let title=blogInfo.title||'';\n        let strArrayVal=strArray||'';\n        let particleVal=particle||'';\n\n        this.assign(\"title\",blogInfo.title);\n        this.assign('strArray',strArrayVal);\n        this.assign('particle',particleVal);\n        this.assign('pid',pid);\n        this.assign('tagname',tagname);\n        return this.displayView('index_preview');\n    }\n   //前端资讯\n    async newsAction(){\n        this.getList(2,'news');\n    }\n    //nodejs文章\n    async nodeAction(){\n        this.getList(3,'node');\n    }\n    //苹果精品软件\n    async downloadAction(){\n        this.getList(4,'download');\n    }\n    //活动\n    async activityAction(){\n        this.getList(6,'activity');\n    }\n    //大杂烩\n    async othersAction(){\n        this.getList(1,'others');\n    }\n    //招聘\n    async jobsAction(){\n        this.getList(5,'jobs');\n    }\n    //分类公用方法\n    async getList(itemId,menu){\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        var Page=think.adapter(\"template\", \"page\");\n        var page = new Page(this.http);\n        var pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu',menu);\n        //分页\n\n        let item=await this.model(\"home\").findOne(\"item\",{id:itemId});\n        this.assign('categoryName',item.itemname);\n        this.assign('more',0);\n        return this.displayView(\"index_item\");\n    }\n    async moreAction(){\n        let murl=this.get(\"murl\");\n        let itemId=murl.split('-')[murl.split('-').length-1];\n        let urlrewrite=murl.replace(\"-\"+itemId,\"\");\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        var items=await this.model(\"home\").findAll(\"item\",{parentid:parseInt(itemId)});\n        var lsttags=[parseInt(itemId)];\n        for (var i = 0; i < items.length; i++) {\n          console.log(items[i].id)\n          lsttags.push(items[i].id)\n        }\n        console.log(lsttags);\n        let item=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:['IN', lsttags]});\n        if(item.itemname) {\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let Page=think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu','tat-ca/'+urlrewrite+'-'+ itemId);\n        //分页\n        this.assign('more',1);\n        this.assign('categoryName','全部文章');\n        return this.displayView(\"index_category\");\n      }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n    //分类\n    async categoryAction(){\n        let b= this.get(\"page\");\n        console.log(b);\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        let aurl=await this.get(\"aurl\");\n        let itemId=aurl.split('-')[aurl.split('-').length-1];\n        let urlrewrite=aurl.replace(\"-\"+itemId,\"\");\n        console.log(itemId)\n        console.log(urlrewrite)\n        let category=await this.model(\"home\").findOne(\"tags\",{urlrewrite:urlrewrite,id:itemId});\n        if(category.tagname) {\n            let itemList = await this.model(\"home\").getPageSelect({keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"], ispublished: 1}, pagenumber, pagesize);\n            let result = await this.model(\"home\").getPageCountSelect({\n                keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"],\n                ispublished: 1\n            }, pagenumber, pagesize);\n            let Page = think.adapter(\"template\", \"page\");\n            let page = new Page(this.http);\n            let pageData = page.pagination(result);\n            console.log(\"tag\"+itemList);\n            this.assign(\"itemList\", itemList);\n            this.assign('pageData', pageData);\n            //分页\n            this.assign('category', category);\n            this.assign('more', 0);\n            this.assign('menu', 'xu-huong/'+urlrewrite+'-'+ itemId);\n            return this.displayView('index_category');\n        }else{\n            return this.displayView(\"../common/error_404\");\n        }\n\n    }\n\n    // 友情链接提交接口\n    async linkssaveAction(){\n        let mydata =await this.post();\n        if(mydata.domain!==''&&mydata.link!==''&&mydata.qq!==''){\n          let rs=await this.model(\"home\").addRecord(\"links\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    // 留言提交接口\n    async guestsaveAction(){\n        let mydata =await this.post();\n        if(mydata.nickname!==''&&mydata.contact!==''&&mydata.guest!==''){\n          let rs=await this.model(\"home\").addRecord(\"guest\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    async guestAction(){\n        this.assign(\"title\",\"留言板\");\n        return this.displayView(\"index_guest\");\n    }\n    async aboutAction(){\n        this.assign(\"title\",\"关于我们\");\n        return this.displayView(\"index_about\");\n    }\n    async adsAction(){\n        this.assign(\"title\",\"推广服务\");\n        return this.displayView(\"index_ads\");\n    }\n    async copyrightAction(){\n        this.assign(\"title\",\"版权声明\");\n        return this.displayView(\"index_copyright\");\n    }\n    async linksAction(){\n        this.assign(\"title\",\"友情链接\");\n        return this.displayView(\"index_links\");\n    }\n    async policyAction(){\n        this.assign(\"title\",\"注册协议\");\n        return this.displayView(\"index_policy\");\n    }\n    async donateAction(){\n        this.assign(\"title\",\"捐赠\");\n        return this.displayView(\"index_donate\");\n    }\n    async dologoutAction(){\n             this.session(\"uInfo\",\"\");\n      return this.redirect(\"/\");\n    }\n\n    // 站点地图\n    async sitemapAction() {\n\n          //生成xml\n          let data={};\n          let sysdata=await this.model(\"home\").findOne(\"system\",{id:1});\n          //获取分类页list\n          let list=await this.model(\"home\").findAll(\"item\");\n          //获取文章列表article\n          let article=await this.model(\"home\").findAll(\"article\");\n          //获取主题帖\n          let topic=await this.model(\"home\").findAll(\"topic\");\n          //获取个人主页\n          let user=await this.model(\"home\").findAll(\"user\");\n          let others=[\n                          { id: 1, itemname: '大杂烩',url:'others.html' },\n                          { id: 2, itemname: '前端资讯',url:'news.html' },\n                          { id: 3, itemname: 'nodejs',url:'node.html' },\n                          { id: 4, itemname: '资源下载',url:'download.html' },\n                          { id: 5, itemname: '招聘',url:'jobs.html' },\n                          { id: 6, itemname: '活动',url:'activity.html' },\n                          { id: 7, itemname: '关于',url:'about.html' },\n                          { id: 8, itemname: '友情链接',url:'links.html' },\n                          { id: 9, itemname: '注册',url:'register.html' },\n                          { id: 10, itemname: '捐赠',url:'donate.html' },\n                          { id: 11, itemname: '推广服务',url:'ads.html' },\n                          { id: 12, itemname: '注册协议',url:'policy.html' },\n                          { id: 13, itemname: '版权声明',url:'copyright.html' },\n                          { id: 14, itemname: '会员登录',url:'login.html' },\n                          { id: 15, itemname: '留言板',url:'guest.html' },\n                          { id: 16, itemname: 'liblog',url:'liblog.html' }\n                     ];\n          data={\n              homeurl:sysdata.url,\n              list:list,\n              article:article,\n              others:others,\n              topic:topic,\n              user:user\n          }\n          Create.createXml(data);\n          return this.displayView(\"index_sitemap\");\n\n    }\n\n    async liblogAction(){\n      return this.displayView(\"index_liblog\");\n    }\n\n\n\n\n    async savereplyAction(){\n      console.log(\"aaa\")\n      //编辑或者新增回复\n      let marked = require('marked');\n      marked.setOptions({\n          renderer: new marked.Renderer(),\n          gfm: true,\n          tables: true,\n          breaks: true,\n          pedantic: false,\n          sanitize: true,\n          smartLists: true,\n          smartypants: false\n      });\n        let mycreatetime=think.datetime(this.post('createtime'));\n        let data=await this.post();\n        data.createtime=mycreatetime;\n        if(data.text===''){\n          return this.json({status:0,errno:1,errmsg:'Trả lời không để trống!'});\n        }else{\n          // 解析markdown\n          let html=marked(data.comment);\n          // data.comment=html;\n          if(!think.isEmpty(data.id)){\n            //编辑\n            let isexist=await this.model(\"home\").findOne(\"article_comment\",{id:data.id});\n            let tid=await this.model(\"home\").findOne(\"article\",{id:data.tid});\n            if(!think.isEmpty(isexist)&&!think.isEmpty(tid)){\n              //更新最后回复数据\n              let updata={\n                updatetime:mycreatetime,\n                updateauthor:data.author,\n                updatepic:data.pic\n              }\n              //let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n              //更新最后回复数据\n              // 更新回复\n              let rs=await this.model(\"home\").updateRecord(\"article_comment\",{id:data.id},data);\n              if(rs) return this.success();\n            }else{\n              return this.fail(\"该主题或回复不存在或已删除！\");\n            }\n          }else{\n              console.log(\"thanh cong\");\n            //更新最后回复数据\n            let updata={\n              updatetime:mycreatetime,\n              updateauthor:data.author,\n              updatepic:data.pic\n            }\n            console.log(data.tid);\n          //  let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n            //更新最后回复数据\n            //增加\n            console.log(\"thanh cong2\");\n            let rs=await this.model(\"article_comment\").add(data);\n            // 增加积分\n            let points=await this.model(\"home\").increpoint({name:data.author},this.config('point.addcomment'));\n            // 增加回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).increment('replycount',1);\n            if(rs) return this.success();\n          }\n        }\n    }\n    async removereplyAction(){\n        let data=await this.post();\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let rs=await this.model(\"article_comment\").where({id:myid}).delete();\n            // 减少回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).decrement('replycount',1);\n            if(rs) return this.success();\n        }\n    }\n    async postlikeAction(){\n        let data=await this.post();\n        let liker=data.likers;\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let item=await this.model(\"home\").findOne(\"article_comment\",{id:myid});\n            let arr=(!item.likers)?[]:(item.likers).split(\",\");\n            let likers=arr||[];\n            let n=likers.indexOf(liker);\n            if(n<0){\n              likers.push(liker);\n              let newlikers=likers.join(\",\");\n              let m=likers.length;\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }else{\n              likers.splice(n,1);\n              let m=likers.length;\n              let newlikers=likers.join(\",\");\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }\n        }\n    }\n\n}\n"
    ]
}