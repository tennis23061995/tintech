{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\controller\\index.js"
    ],
    "names": [
        "pad",
        "value",
        "parseInt",
        "getAttrFromString",
        "str",
        "node",
        "attr",
        "regex",
        "RegExp",
        "result",
        "res",
        "exec",
        "push",
        "categoriesAction",
        "model",
        "order",
        "select",
        "items",
        "content",
        "urls",
        "think",
        "isEmpty",
        "item",
        "url",
        "urlrewrite",
        "id",
        "lM",
        "Date",
        "lastmodified",
        "lastM",
        "getFullYear",
        "getMonth",
        "slice",
        "getDate",
        "getHours",
        "getMinutes",
        "getSeconds",
        "obj",
        "lastmodISO",
        "changefreq",
        "priority",
        "sm",
        "require",
        "createSitemap",
        "hostname",
        "cacheTime",
        "toString",
        "header",
        "end",
        "tagsAction",
        "sitemaparticleAction",
        "sitemaps",
        "lstsm",
        "ct",
        "ctlastM",
        "loc",
        "lastMod",
        "ctime",
        "createtime",
        "console",
        "log",
        "smindex",
        "data",
        "do",
        "status",
        "indexes",
        "articleAction",
        "get",
        "aurl",
        "substring",
        "where",
        "imgs",
        "videos",
        "itemurlrewrite",
        "vds",
        "images",
        "alts",
        "i",
        "length",
        "ig",
        "caption",
        "title",
        "geoLocation",
        "license",
        "img",
        "indexAction",
        "findOne",
        "setting",
        "assign",
        "displayView",
        "getvideoAction",
        "post",
        "success",
        "getnewsAction",
        "category",
        "findAll",
        "parentid",
        "lstcategory",
        "categories",
        "rejectarticles",
        "itemname",
        "style",
        "limit",
        "topList",
        "rejectnews",
        "newsList",
        "fetch",
        "newsList1",
        "menuAction",
        "b",
        "pagenumber",
        "pagesize",
        "itemId",
        "split",
        "replace",
        "parentids",
        "getPageSelect",
        "ispublished",
        "itemList",
        "getPageCountSelect",
        "Page",
        "adapter",
        "page",
        "http",
        "pageData",
        "pagination",
        "cate",
        "ca",
        "categoryparent",
        "pageAction",
        "aid",
        "aurlrewrite",
        "curl",
        "cid",
        "curlrewrite",
        "menuInfo",
        "blogInfo",
        "addViewCount",
        "viewcount",
        "tagItem",
        "name",
        "author",
        "acc",
        "html",
        "strArray",
        "particle",
        "ainfo",
        "pid",
        "indexOf",
        "getArticleList",
        "relatearticle",
        "strArrayVal",
        "particleVal",
        "source",
        "getReplyListInfo",
        "tid",
        "replyList",
        "session",
        "uinfo",
        "loginuserinfo",
        "type",
        "iscollect",
        "collectList",
        "tags",
        "keywords",
        "listtags",
        "tag",
        "JSON",
        "parse",
        "tagname",
        "previewAction",
        "newsAction",
        "getList",
        "nodeAction",
        "downloadAction",
        "activityAction",
        "othersAction",
        "jobsAction",
        "menu",
        "moreAction",
        "murl",
        "lsttags",
        "categoryAction",
        "linkssaveAction",
        "mydata",
        "domain",
        "link",
        "qq",
        "addRecord",
        "rs",
        "guestsaveAction",
        "nickname",
        "contact",
        "guest",
        "guestAction",
        "aboutAction",
        "adsAction",
        "copyrightAction",
        "linksAction",
        "policyAction",
        "donateAction",
        "dologoutAction",
        "redirect",
        "sitemapAction",
        "sysdata",
        "list",
        "article",
        "topic",
        "user",
        "others",
        "homeurl",
        "createXml",
        "liblogAction",
        "savereplyAction",
        "marked",
        "setOptions",
        "renderer",
        "Renderer",
        "gfm",
        "tables",
        "breaks",
        "pedantic",
        "sanitize",
        "smartLists",
        "smartypants",
        "mycreatetime",
        "datetime",
        "text",
        "json",
        "errno",
        "errmsg",
        "comment",
        "isexist",
        "updata",
        "updatetime",
        "updateauthor",
        "updatepic",
        "pic",
        "updateRecord",
        "fail",
        "add",
        "increpoint",
        "config",
        "points",
        "increment",
        "replycount",
        "removereplyAction",
        "myid",
        "delete",
        "decrement",
        "postlikeAction",
        "liker",
        "likers",
        "arr",
        "n",
        "newlikers",
        "join",
        "m",
        "update",
        "like",
        "likeCount",
        "splice"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;AACA,SAASA,GAAT,CAAaC,KAAb,EAAoB;AAChB,MAAGC,SAASD,KAAT,IAAkB,EAArB,EAAyB;AACrB,WAAO,MAAMA,KAAb;AACH,GAFD,MAEO;AACH,WAAOA,KAAP;AACH;AACJ;AACD,SAASE,iBAAT,CAA2BC,GAA3B,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;AACxC,MAAIC,QAAQ,IAAIC,MAAJ,CAAW,MAAMH,IAAN,GAAa,MAAb,GAAsBC,IAAtB,GAA6B,UAAxC,EAAoD,IAApD,CAAZ;AAAA,MAAuEG,MAAvE;AAAA,MAA+EC,MAAM,EAArF;AACA,SAAQD,SAASF,MAAMI,IAAN,CAAWP,GAAX,CAAjB,EAAmC;AAC/BM,QAAIE,IAAJ,CAASH,OAAO,CAAP,CAAT;AACH;AACD,SAAOC,GAAP;AACH;;;;;;;;;;AAEC;;;;;AAKA;mBACMG,gB;;;;;;;;;qBAEY,KAAKC,KAAL,CAAW,MAAX,EAAmBC,KAAnB,CAAyB,SAAzB,EAAoCC,MAApC,E;;;AAAZC,mB;AACAC,qB,GAAQ,E;AACRC,kB,GAAK,E;;kBACLC,MAAMC,OAAN,CAAcJ,KAAd,C;;;;;0BAEaA,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAARK,kB;AACHC,iB,GAAI,MAAID,KAAKE,UAAT,GAAoB,GAApB,GAAwBF,KAAKG,E;AACjCC,gB,GAAG,IAAIC,IAAJ,CAASL,KAAKM,YAAd,C;AACHC,mB,GAAMH,GAAGI,WAAH,KAAmB,GAAnB,GAAyB,CAAC,OAAOJ,GAAGK,QAAH,KAAc,CAArB,CAAD,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAzB,GAA+D,GAA/D,GAAqE,CAAC,MAAMN,GAAGO,OAAH,EAAP,EAAqBD,KAArB,CAA2B,CAAC,CAA5B,CAArE,GAAsG,GAAtG,GAA4GhC,IAAI0B,GAAGQ,QAAH,EAAJ,CAA5G,GAAiI,GAAjI,GAAuIlC,IAAI0B,GAAGS,UAAH,EAAJ,CAAvI,GAA8J,GAA9J,GAAoKnC,IAAI0B,GAAGU,UAAH,EAAJ,CAApK,GAAyL,Q;AAC/LC,iB,GAAI,EAACd,KAAKA,GAAN,EAAUe,YAAWT,KAArB,EAA2BU,YAAY,QAAvC,EAAiDC,UAAU,GAA3D,E;;AACRrB,mBAAKP,IAAL,CAAUyB,GAAV;;;;;;;AAEEA,iB,GAAI,EAACd,KAAK,QAAN,EAAegB,YAAY,QAA3B,EAAqCC,UAAU,GAA/C,E;;AACRrB,mBAAKP,IAAL,CAAUyB,GAAV;AACII,gB,GAAKC,QAAQ,SAAR,C;;AACTxB,wBAAUuB,GAAGE,aAAH,CAAiB;AACxBC,0BAAU,uBADc;AAExBC,2BAAW,MAFa,EAEJ;AACpB1B,sBAAKA;AAHmB,eAAjB,EAIN2B,QAJM,EAAV;;;AAMD,mBAAKC,MAAL,CAAY,cAAZ,EAA4B,iBAA5B;AACA,mBAAKC,GAAL,CAAS9B,OAAT;;;;;;;;;;;;;;;;;mBAEK+B,U;;;;;;;;;qBAEY,KAAKnC,KAAL,CAAW,MAAX,EAAmBC,KAAnB,CAAyB,SAAzB,EAAoCC,MAApC,E;;;AAAZC,mB;AACAC,qB,GAAQ,E;AACRC,kB,GAAK,E;;kBACLC,MAAMC,OAAN,CAAcJ,KAAd,C;;;;;2BAEaA,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAARK,kB;AACHC,iB,GAAI,eAAaD,KAAKE,UAAlB,GAA6B,GAA7B,GAAiCF,KAAKG,E;AAC1CC,gB,GAAG,IAAIC,IAAJ,CAASL,KAAKM,YAAd,C;AACHC,mB,GAAMH,GAAGI,WAAH,KAAmB,GAAnB,GAAyB,CAAC,OAAOJ,GAAGK,QAAH,KAAc,CAArB,CAAD,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAzB,GAA+D,GAA/D,GAAqE,CAAC,MAAMN,GAAGO,OAAH,EAAP,EAAqBD,KAArB,CAA2B,CAAC,CAA5B,CAArE,GAAsG,GAAtG,GAA4GhC,IAAI0B,GAAGQ,QAAH,EAAJ,CAA5G,GAAiI,GAAjI,GAAuIlC,IAAI0B,GAAGS,UAAH,EAAJ,CAAvI,GAA8J,GAA9J,GAAoKnC,IAAI0B,GAAGU,UAAH,EAAJ,CAApK,GAAyL,Q;AAC/LC,iB,GAAI,EAACd,KAAKA,GAAN,EAAUe,YAAWT,KAArB,EAA2BU,YAAY,QAAvC,EAAiDC,UAAU,GAA3D,E;;AACRrB,mBAAKP,IAAL,CAAUyB,GAAV;;;;;;;AAEEI,gB,GAAKC,QAAQ,SAAR,C;;AACTxB,wBAAUuB,GAAGE,aAAH,CAAiB;AACxBC,0BAAU,uBADc;AAExBC,2BAAW,MAFa,EAEJ;AACpB1B,sBAAKA;AAHmB,eAAjB,EAIN2B,QAJM,EAAV;;;AAMD,mBAAKC,MAAL,CAAY,cAAZ,EAA4B,iBAA5B;AACA,mBAAKC,GAAL,CAAS9B,OAAT;;;;;;;;;;;;;;;;;mBAEKgC,oB;;;;;;;;;qBACW,KAAKpC,KAAL,CAAW,SAAX,EAAsBC,KAAtB,CAA4B,SAA5B,EAAuCC,MAAvC,E;;;AAAfmC,sB;AAEAC,mB,GAAM,E;AACNlC,qB,GAAQ,E;;kBACRE,MAAMC,OAAN,CAAc8B,QAAd,C;;;;;AAEEE,gB,GAAG,IAAI1B,IAAJ,CAASwB,SAAS,CAAT,EAAYvB,YAArB,C;AACH0B,qB,GAAQD,GAAGvB,WAAH,KAAmB,GAAnB,GAAyB,CAAC,OAAOuB,GAAGtB,QAAH,KAAc,CAArB,CAAD,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAzB,GAA+D,GAA/D,GAAqE,CAAC,MAAMqB,GAAGpB,OAAH,EAAP,EAAqBD,KAArB,CAA2B,CAAC,CAA5B,CAArE,GAAsG,GAAtG,GAA4GhC,IAAIqD,GAAGnB,QAAH,EAAJ,CAA5G,GAAiI,GAAjI,GAAuIlC,IAAIqD,GAAGlB,UAAH,EAAJ,CAAvI,GAA8J,GAA9J,GAAoKnC,IAAIqD,GAAGjB,UAAH,EAAJ,CAApK,GAAyL,Q;;AACvMgB,sBAAM,CAAC,EAACG,KAAI,kCAAL,EAAwCC,SAAQF,OAAhD,EAAD,EAA0D,EAACC,KAAI,4BAAL,EAAkCC,SAAQF,OAA1C,EAA1D,CAAN;2BACmBH,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAR7B,kB;AACHmC,mB,GAAM,IAAI9B,IAAJ,CAASL,KAAKoC,UAAd,C;AACNA,wB,GAAWD,MAAM3B,WAAN,KAAsB,CAAC,OAAO2B,MAAM1B,QAAN,KAAiB,CAAxB,CAAD,EAA6BC,KAA7B,CAAmC,CAAC,CAApC,CAAtB,GAA+D,CAAC,MAAMyB,MAAMxB,OAAN,EAAP,EAAwBD,KAAxB,CAA8B,CAAC,CAA/B,CAA/D,GAAiG,M;;AACpH2B,sBAAQC,GAAR,CAAYF,UAAZ;AACQhC,gB,GAAG,IAAIC,IAAJ,CAASL,KAAKM,YAAd,C;AACHC,mB,GAAMH,GAAGI,WAAH,KAAmB,GAAnB,GAAyB,CAAC,OAAOJ,GAAGK,QAAH,KAAc,CAArB,CAAD,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAzB,GAA+D,GAA/D,GAAqE,CAAC,MAAMN,GAAGO,OAAH,EAAP,EAAqBD,KAArB,CAA2B,CAAC,CAA5B,CAArE,GAAsG,GAAtG,GAA4GhC,IAAI0B,GAAGQ,QAAH,EAAJ,CAA5G,GAAiI,GAAjI,GAAuIlC,IAAI0B,GAAGS,UAAH,EAAJ,CAAvI,GAA8J,GAA9J,GAAoKnC,IAAI0B,GAAGU,UAAH,EAAJ,CAApK,GAAyL,Q;AAC/LC,iB,GAAI,EAACkB,KAAI,+BAA6BG,UAAlC,EAA6CF,SAAQ3B,KAArD,E;;AACRuB,oBAAMxC,IAAN,CAAWyB,GAAX;;;;;;;AAEF;AACIwB,qB,GAAUnB,QAAQ,eAAR,C;AACVoB,kB,GAAKD,QAAQE,EAAR,CAAWX,KAAX,C;;AACTO,sBAAQC,GAAR,CAAYE,IAAZ;AACA,kBAAGA,KAAKE,MAAR,EAAgB9C,UAAQ4C,KAAKG,OAAL,CAAanB,QAAb,EAAR;;;;AAGlB;AACA;AACA,mBAAKC,MAAL,CAAY,cAAZ,EAA4B,iBAA5B;AACA,mBAAKC,GAAL,CAAS9B,OAAT;;;;;;;;;;;;;;;;;mBAEQgD,a;;;;;;;;;qBAEU,KAAKC,GAAL,CAAS,MAAT,C;;;AAAXC,kB;AACAf,gB,GAAGe,KAAKC,SAAL,CAAe,CAAf,EAAkB,CAAlB,IAAqB,GAArB,GAAyBD,KAAKC,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAzB,GAA8C,GAA9C,GAAkDD,KAAKC,SAAL,CAAe,CAAf,EAAkB,CAAlB,C;;qBACzC,KAAKvD,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAACZ,YAAW,CAAC,MAAD,EAAS,MAAIL,EAAJ,GAAO,GAAhB,CAAZ,EAA5B,EAA+DtC,KAA/D,CAAqE,mBAArE,EAA0FC,MAA1F,E;;;AAAZC,mB;AAA+G;AAC/GC,qB,GAAQ,E;;kBACRE,MAAMC,OAAN,CAAcJ,KAAd,C;;;;;AAEEE,kB,GAAK,E;AACLoD,kB,GAAK,E;AACLC,oB,GAAO,E;2BACMvD,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAARK,kB;AACHC,iB,GAAI,MAAID,KAAKmD,cAAT,GAAwB,GAAxB,GAA4BnD,KAAKA,IAAjC,GAAsC,GAAtC,GAA0CA,KAAKE,UAA/C,GAA0D,GAA1D,GAA8DF,KAAKG,E;AAExEiD,iB,GAAIvE,kBAAkBmB,KAAKJ,OAAvB,EAAgC,OAAhC,EAAyC,KAAzC,C;AACHyD,oB,GAAOxE,kBAAkBmB,KAAKJ,OAAvB,EAAgC,KAAhC,EAAuC,KAAvC,C;AACP0D,kB,GAAKzE,kBAAkBmB,KAAKJ,OAAvB,EAAgC,KAAhC,EAAuC,KAAvC,C;;AACT,mBAAS2D,CAAT,GAAW,CAAX,EAAaA,IAAEF,OAAOG,MAAtB,EAA6BD,GAA7B,EAAkC;AAC5BE,kBAD4B,GACzB;AACJxD,uBAAK,sBAAoBoD,OAAOE,CAAP,CADrB;AAEJG,2BAASJ,KAAKC,CAAL,CAFL;AAGJI,yBAAO3D,KAAK2D,KAHR;AAIJC,+BAAa,sBAJT;AAKJC,2BAAS;AALL,iBADyB;;AAQ/BZ,qBAAK3D,IAAL,CAAUmE,EAAV;AACF;AACF;AACA;AACA;AACA;AACKrD,gB,GAAG,IAAIC,IAAJ,CAASL,KAAKoC,UAAd,C;;AACP,kBAAGpC,KAAKM,YAAL,IAAmB,qBAAtB,EAA6CF,KAAG,IAAIC,IAAJ,CAASL,KAAKM,YAAd,CAAH;AACzCC,mB,GAAMH,GAAGI,WAAH,KAAmB,GAAnB,GAAyB,CAAC,OAAOJ,GAAGK,QAAH,KAAc,CAArB,CAAD,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAzB,GAA+D,GAA/D,GAAqE,CAAC,MAAMN,GAAGO,OAAH,EAAP,EAAqBD,KAArB,CAA2B,CAAC,CAA5B,CAArE,GAAsG,GAAtG,GAA4GhC,IAAI0B,GAAGQ,QAAH,EAAJ,CAA5G,GAAiI,GAAjI,GAAuIlC,IAAI0B,GAAGS,UAAH,EAAJ,CAAvI,GAA8J,GAA9J,GAAoKnC,IAAI0B,GAAGU,UAAH,EAAJ,CAApK,GAAyL,Q;;AACnMuB,sBAAQC,GAAR,CAAY/B,KAAZ;AACD;AACKQ,iB,GAAI,EAACd,KAAKA,GAAN,EAAU6D,KAAIb,IAAd,EAAmBjC,YAAWT,KAA9B,EAAoCU,YAAY,QAAhD,EAA0DC,UAAU,GAApE,E;;AACRrB,mBAAKP,IAAL,CAAUyB,GAAV;;;;;;;AAEEI,gB,GAAKC,QAAQ,SAAR,C;;AACTxB,wBAAUuB,GAAGE,aAAH,CAAiB;AACxBC,0BAAU,uBADc;AAExB;AACAzB,sBAAKA;AAHmB,eAAjB,EAIN2B,QAJM,EAAV;;;AAMF,mBAAKC,MAAL,CAAY,cAAZ,EAA4B,iBAA5B;AACA,mBAAKC,GAAL,CAAS9B,OAAT;;;;;;;;;;;;;;;;;mBAEKmE,W;;;;;;;;qBAEgB,KAAKvE,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,gBAA3B,C;;;AAAdC,qB;;AACJ;AACA;AACA;AACA;AACA,mBAAKC,MAAL,CAAY,SAAZ,EAAsBD,OAAtB;;gDAEO,KAAKE,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAELC,c;;;;;;;;qBACS,KAAKC,IAAL,CAAU,IAAV,C;;;AAATlE,gB;;AACJkC,sBAAQC,GAAR,CAAY,UAAQnC,EAApB;;qBACe,KAAKX,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,OAA3B,EAAmC,EAAC7D,IAAGA,EAAJ,EAAnC,C;;;AAAXH,kB;gDACG,KAAKsE,OAAL,CAAa,EAAC1E,SAAQI,IAAT,EAAb,C;;;;;;;;;;;;;;;;;mBAEHuE,a;;;;;;;;;qBACS,KAAKF,IAAL,CAAU,IAAV,C;;;AAATlE,gB;;qBACe,KAAKX,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAGA,EAAJ,EAAlC,C;;;AAAfqE,sB;;qBACkB,KAAKhF,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAASvE,EAAV,EAAlC,C;;;AAAlBwE,yB;AACAC,wB,GAAW,CAACJ,SAASrE,EAAV,C;;AACf,mBAAQoD,CAAR,GAAU,CAAV,EAAYA,IAAEoB,YAAYnB,MAA1B,EAAiCD,GAAjC,EACA;AACEqB,2BAAWtF,IAAX,CAAgBqF,YAAYpB,CAAZ,EAAepD,EAA/B;AACD;AACGP,qB,GAAQ,E;AACRiF,4B,GAAe,CAAC,CAAD,C;;mBAChBL,SAASM,Q;;;;;oBACPN,SAASO,KAAT,IAAgB,C;;;;;;qBAED,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,qB;;kBACNnF,MAAMC,OAAN,CAAckF,OAAd,C;;;;;AACAC,wB,GAAW,CAAC,CAAD,C;;AACT,mBAAS3B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,QAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,QAAQ1B,CAAR,EAAWpD,EAA/B;AACA+E,2BAAW5F,IAAX,CAAgB2F,QAAQ1B,CAAR,EAAWpD,EAA3B;AACD;;;qBAEkB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAfyF,sB;;AACJ,mBAAS5B,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,SAAS3B,MAA7B,EAAqCD,GAArC,EAA0C;AACxCsB,+BAAevF,IAAf,CAAoB6F,SAAS5B,CAAT,EAAYpD,EAAhC;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,OAAvB;AACA,mBAAKf,MAAL,CAAY,UAAZ,EAAwBiB,QAAxB;;qBACc,KAAKC,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;;;;;oBAGM4E,SAASO,KAAT,IAAgB,C;;;;;;qBAEJ,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,sB;;kBACAnF,MAAMC,OAAN,CAAckF,QAAd,C;;;;;AACAC,wB,GAAW,E;;AACf,mBAAS3B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,SAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,SAAQ1B,CAAR,EAAWpD,EAA/B;AACI+E,2BAAW5F,IAAX,CAAgB2F,SAAQ1B,CAAR,EAAWpD,EAA3B;AACL;;;qBAEkB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAfyF,uB;;;AAEJ,mBAAS5B,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,UAAS3B,MAA7B,EAAqCD,GAArC,EAA0C;AACxCsB,+BAAevF,IAAf,CAAoB6F,UAAS5B,CAAT,EAAYpD,EAAhC;AACA+E,2BAAW5F,IAAX,CAAgB6F,UAAS5B,CAAT,EAAYpD,EAA5B;AACD;;qBACmB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAhB2F,uB;;AACJ,mBAAS9B,CAAT,GAAa,CAAb,EAAgBA,IAAI8B,UAAU7B,MAA9B,EAAsCD,GAAtC,EAA2C;AACzCsB,+BAAevF,IAAf,CAAoB+F,UAAU9B,CAAV,EAAapD,EAAjC;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,QAAvB;AACA,mBAAKf,MAAL,CAAY,UAAZ,EAAwBiB,SAAxB;AACE,mBAAKjB,MAAL,CAAY,WAAZ,EAAyBmB,SAAzB;;qBACY,KAAKD,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;;;;;oBAES4E,SAASO,KAAT,IAAgB,C;;;;;;qBAEL,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,uB;;kBACRnF,MAAMC,OAAN,CAAckF,SAAd,C;;;;;AACI,mBAAS1B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,UAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,UAAQ1B,CAAR,EAAWpD,EAA/B;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,SAAvB;;qBACc,KAAKG,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;AAIJyC,sBAAQC,GAAR,CAAY1C,OAAZ;gDACO,KAAK0E,OAAL,CAAa,EAAC1E,SAAQA,OAAT,EAAb,C;;;;;;;;;;;;;;;;;mBAEH0F,U;;;;;;;;AACAC,e,GAAG,KAAK1C,GAAL,CAAS,MAAT,C;;AACPR,sBAAQC,GAAR,CAAYiD,CAAZ;AACIC,wB,GAAW,KAAK3C,GAAL,CAAS,MAAT,KAAkB,C;AAC7B4C,sB,GAAS,KAAK5C,GAAL,CAAS,UAAT,KAAsB,E;;qBACpB,KAAKA,GAAL,CAAS,MAAT,C;;;AAAXC,kB;AACA4C,oB,GAAO5C,KAAK6C,KAAL,CAAW,GAAX,EAAgB7C,KAAK6C,KAAL,CAAW,GAAX,EAAgBnC,MAAhB,GAAuB,CAAvC,C;AACPtD,wB,GAAW4C,KAAK8C,OAAL,CAAa,MAAIF,MAAjB,EAAwB,EAAxB,C;;qBAEI,KAAKlG,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC9D,YAAWA,UAAZ,EAAuBC,IAAGuF,MAA1B,EAAlC,C;;;AAAflB,sB;;qBACkB,KAAKhF,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAASgB,MAAV,EAAlC,C;;;AAAlBf,yB;AACAC,wB,GAAW,CAACJ,SAASrE,EAAV,C;;AACf,mBAAQoD,CAAR,GAAU,CAAV,EAAYA,IAAEoB,YAAYnB,MAA1B,EAAiCD,GAAjC,EACA;AACEqB,2BAAWtF,IAAX,CAAgBqF,YAAYpB,CAAZ,EAAepD,EAA/B;AACD;AACDkC,sBAAQC,GAAR,CAAYkC,SAASM,QAArB;AACIlF,qB,GAAQ,E;AACRiF,4B,GAAe,CAAC,CAAD,C;;mBAChBL,SAASM,Q;;;;;oBACPN,SAASO,KAAT,IAAgB,C;;;;;;qBAED,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,qB;;kBACNnF,MAAMC,OAAN,CAAckF,OAAd,C;;;;;AACAC,wB,GAAW,CAAC,CAAD,C;;AACT,mBAAS3B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,QAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,QAAQ1B,CAAR,EAAWpD,EAA/B;AACA+E,2BAAW5F,IAAX,CAAgB2F,QAAQ1B,CAAR,EAAWpD,EAA3B;AACD;;;qBAEkB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAfyF,sB;;AACJ,mBAAS5B,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,SAAS3B,MAA7B,EAAqCD,GAArC,EAA0C;AACxCsB,+BAAevF,IAAf,CAAoB6F,SAAS5B,CAAT,EAAYpD,EAAhC;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,OAAvB;AACA,mBAAKf,MAAL,CAAY,UAAZ,EAAwBiB,QAAxB;;qBACc,KAAKC,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;;;;;oBAGM4E,SAASO,KAAT,IAAgB,C;;;;;;qBAEJ,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,uB;;kBACAnF,MAAMC,OAAN,CAAckF,SAAd,C;;;;;AACAC,wB,GAAW,E;;AACf,mBAAS3B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,UAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,UAAQ1B,CAAR,EAAWpD,EAA/B;AACI+E,2BAAW5F,IAAX,CAAgB2F,UAAQ1B,CAAR,EAAWpD,EAA3B;AACL;;;qBAEkB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAfyF,wB;;;AAEJ,mBAAS5B,CAAT,GAAa,CAAb,EAAgBA,IAAI4B,WAAS3B,MAA7B,EAAqCD,GAArC,EAA0C;AACxCsB,+BAAevF,IAAf,CAAoB6F,WAAS5B,CAAT,EAAYpD,EAAhC;AACA+E,2BAAW5F,IAAX,CAAgB6F,WAAS5B,CAAT,EAAYpD,EAA5B;AACD;;qBACmB,KAAKX,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAAwBzE,IAAG,CAAC,OAAD,EAAS+E,UAAT,CAA3B,EAA5B,EAA8EzF,KAA9E,CAAoF,qEAApF,EAA2JuF,KAA3J,CAAiK,CAAjK,EAAoKtF,MAApK,E;;;AAAhB2F,uB;;AACJ,mBAAS9B,CAAT,GAAa,CAAb,EAAgBA,IAAI8B,UAAU7B,MAA9B,EAAsCD,GAAtC,EAA2C;AACzCsB,+BAAevF,IAAf,CAAoB+F,UAAU9B,CAAV,EAAapD,EAAjC;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,SAAvB;AACA,mBAAKf,MAAL,CAAY,UAAZ,EAAwBiB,UAAxB;AACE,mBAAKjB,MAAL,CAAY,WAAZ,EAAyBmB,SAAzB;;qBACY,KAAKD,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;;;;;oBAES4E,SAASO,KAAT,IAAgB,C;;;;;;qBAEL,KAAKvF,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAChD,MAAK,CAAC,IAAD,EAAM4E,UAAN,CAAN,EAA5B,EAAsDnF,KAAtD,CAA4D,qEAA5D,EAAmIuF,KAAnI,CAAyI,CAAzI,EAA4ItF,MAA5I,E;;;AAAduF,uB;;kBACRnF,MAAMC,OAAN,CAAckF,SAAd,C;;;;;AACI,mBAAS1B,CAAT,GAAa,CAAb,EAAgBA,IAAI0B,UAAQzB,MAA5B,EAAoCD,GAApC,EAAyC;AACvCsB,+BAAevF,IAAf,CAAoB2F,UAAQ1B,CAAR,EAAWpD,EAA/B;AACD;AACD,mBAAK+D,MAAL,CAAY,SAAZ,EAAuBe,SAAvB;;qBACc,KAAKG,KAAL,CAAW,mBAAX,C;;;AAAdxF,qB;;;AAGIiG,uB,GAAU,CAACrB,SAASrE,EAAV,C;;oBACXqE,SAASE,QAAT,IAAmB,C;;;;;;qBAEH,KAAKlF,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAASF,SAASrE,EAAnB,EAAlC,C;;;AAAZR,mB;;AACJ,kBAAGA,MAAM6D,MAAN,GAAa,CAAhB,EACA;AACE,qBAASD,CAAT,GAAa,CAAb,EAAgBA,IAAI5D,MAAM6D,MAA1B,EAAkCD,GAAlC,EAAuC;AACrCsC,4BAAUvG,IAAV,CAAeK,MAAM4D,CAAN,EAASpD,EAAxB;AACD;AACF;;;AAEJkC,sBAAQC,GAAR,CAAY,YAAUuC,cAAtB;;qBACqB,KAAKrF,KAAL,CAAW,MAAX,EAAmBsG,aAAnB,CAAiC,EAAC9F,MAAM,CAAC,IAAD,EAAO6F,SAAP,CAAP,EAAyB1F,IAAG,CAAC,OAAD,EAAS0E,cAAT,CAA5B,EAAsDkB,aAAa,CAAnE,EAAjC,EAAwGP,UAAxG,EAAoHC,QAApH,C;;;AAAjBO,sB;;qBACe,KAAKxG,KAAL,CAAW,MAAX,EAAmByG,kBAAnB,CAAsC;AACrDjG,sBAAM,CAAC,IAAD,EAAO6F,SAAP,CAD+C;AAErD1F,oBAAG,CAAC,OAAD,EAAS0E,cAAT,CAFkD;AAGrDkB,6BAAa;AAHwC,eAAtC,EAIhBP,UAJgB,EAIJC,QAJI,C;;;AAAftG,oB;AAKA+G,kB,GAAOpG,MAAMqG,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACPC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAAWF,KAAKG,UAAL,CAAgBpH,MAAhB,C;;AACf,mBAAK+E,MAAL,CAAY,UAAZ,EAAwBoC,QAAxB;AACA,mBAAKpC,MAAL,CAAY,UAAZ,EAAwB8B,QAAxB;;AAEA;AACIQ,kB,GAAK,E;;AACTA,mBAAKhC,QAAL,GAAeA,QAAf;;qBACa,KAAKhF,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAGqE,SAASE,QAAb,EAAlC,C;;;AAAT+B,gB;;AACJ,kBAAG,CAAC3G,MAAMC,OAAN,CAAc0G,EAAd,CAAJ,EACA;AACED,qBAAKE,cAAL,GAAoBD,EAApB;AACD;AACD,mBAAKvC,MAAL,CAAY,UAAZ,EAAwBsC,IAAxB;AACA,mBAAKtC,MAAL,CAAY,SAAZ,EAAuBtE,OAAvB;AACA,mBAAKsE,MAAL,CAAY,MAAZ,EAAoB,CAApB;AACA,mBAAKA,MAAL,CAAY,MAAZ,EAAoBhE,aAAW,GAAX,GAAgBwF,MAApC;gDACO,KAAKvB,WAAL,CAAiB,YAAjB,C;;;gDAEA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;AAOb;;;mBACMwC,U;;;;;;;AACE7D,kB,GAAK,KAAKD,GAAL,CAAS,MAAT,C;AACH+D,iB,GAAI9D,KAAK6C,KAAL,CAAW,GAAX,EAAgB7C,KAAK6C,KAAL,CAAW,GAAX,EAAgBnC,MAAhB,GAAuB,CAAvC,C;AACJqD,yB,GAAY/D,KAAK8C,OAAL,CAAa,MAAIgB,GAAjB,EAAqB,EAArB,C;AACZE,kB,GAAK,KAAKjE,GAAL,CAAS,MAAT,C;AACLkE,iB,GAAID,KAAKnB,KAAL,CAAW,GAAX,EAAgBmB,KAAKnB,KAAL,CAAW,GAAX,EAAgBnC,MAAhB,GAAuB,CAAvC,C;AACJwD,yB,GAAYF,KAAKlB,OAAL,CAAa,MAAImB,GAAjB,EAAqB,EAArB,C;;qBACG,KAAKvH,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC9D,YAAW8G,WAAZ,EAAwB7G,IAAG4G,GAA3B,EAAlC,C;;;AAAfE,sB;;AACJ5E,sBAAQC,GAAR,CAAY2E,SAASnC,QAArB;;mBACGmC,SAASnC,Q;;;;;;qBACK,KAAKtF,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,SAA3B,EAAqC,EAAC9D,YAAW2G,WAAZ,EAAwB1G,IAAGyG,GAA3B,EAA+B5G,MAAK+G,GAApC,EAArC,C;;;AAAfG,sB;;oBACDA,SAASnB,WAAT,KAAuB,C;;;;;;qBAEF,KAAKvG,KAAL,CAAW,MAAX,EAAmB2H,YAAnB,CAAgC,EAAChH,IAAGyG,GAAJ,EAAhC,C;;;AAAhBQ,uB;;qBAEc,KAAK5H,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAG+G,SAASlH,IAAb,EAAlC,C;;;AAAdqH,qB;;qBACU,KAAK7H,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAACsD,MAAKJ,SAASK,MAAf,EAAlC,C;;;AAAVC,iB;;AACJnF,sBAAQC,GAAR,CAAY4E,SAASK,MAArB;AACA,mBAAKrD,MAAL,CAAY,UAAZ,EAAuBmD,QAAQvC,QAA/B;AACA,mBAAKZ,MAAL,CAAY,UAAZ,EAAuBgD,QAAvB;AACA,mBAAKhD,MAAL,CAAY,KAAZ,EAAkBsD,GAAlB;AACA;AACIC,kB,GAAKP,SAAStH,O;AACd8H,sB,GAAS,E,EAAGC,Q,GAAS,E,EAAGC,K,GAAM,E;AAC9BC,iB,GAAI,KAAKhF,GAAL,CAAS,KAAT,C;;AACR,kBAAG4E,IAAH,EAAQ;AACJ,oBAAGA,KAAKK,OAAL,CAAa,aAAb,IAA4B,CAA/B,EAAiC;AAC7BJ,6BAASD,KAAK9B,KAAL,CAAW,aAAX,CAAT;AACA,sBAAGkC,GAAH,EAAO;AACC1H,sBADD,GACI0H,MAAI,CAAJ,GAAM,CADV;;AAEHF,+BAASD,SAASvH,EAAT,CAAT;AACH,mBAHD,MAGK;AACD0H,0BAAI,CAAJ;AACAF,+BAASD,SAAS,CAAT,CAAT;AACH;AACJ;AACJ;AACD;;qBACwB,KAAKlI,KAAL,CAAW,MAAX,EAAmBuI,cAAnB,CAAkC,EAAC5H,IAAG,CAAC,IAAD,EAAOyG,GAAP,CAAJ,EAAgB5G,MAAKkH,SAASlH,IAA9B,EAAmC+F,aAAY,CAA/C,EAAlC,C;;;AAApBiC,2B;;AACJ,mBAAK9D,MAAL,CAAY,eAAZ,EAA4B8D,aAA5B;;AAEInD,4B,GAAe,CAACqC,SAAS/G,EAAV,C;;AACnB,mBAASoD,CAAT,GAAa,CAAb,EAAgBA,IAAIyE,cAAcxE,MAAlC,EAA0CD,GAA1C,EAA+C;AAC7CsB,+BAAevF,IAAf,CAAoB0I,cAAczE,CAAd,EAAiBpD,EAArC;AACD;AACDkC,sBAAQC,GAAR,CAAY,oBAAkBuC,eAAerD,QAAf,EAA9B;;qBACqB,KAAKhC,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAC7C,IAAG,CAAC,OAAD,EAAS0E,cAAT,CAAJ,EAA8BkB,aAAa,CAA3C,EAA5B,EAA2EtG,KAA3E,CAAiF,iBAAjF,EAAoGuF,KAApG,CAA0G,EAA1G,EAA8GtF,MAA9G,E;;;AAAjBsG,sB;;AACJ,mBAAK9B,MAAL,CAAY,UAAZ,EAAwB8B,QAAxB;AACA;AACIrC,mB,GAAMuD,SAASvD,KAAT,IAAgB,E;AACtBsE,yB,GAAYP,YAAU,E;AACtBQ,yB,GAAYP,YAAU,E;;;AAE1B,mBAAKzD,MAAL,CAAY,OAAZ,EAAoBgD,SAASvD,KAA7B;AACA,mBAAKO,MAAL,CAAY,UAAZ,EAAuB+D,WAAvB;AACA,mBAAK/D,MAAL,CAAY,UAAZ,EAAuBgE,WAAvB;AACA,mBAAKhE,MAAL,CAAY,KAAZ,EAAkB2D,GAAlB;AACA,mBAAK3D,MAAL,CAAY,MAAZ,EAAmB+C,QAAnB;AACIT,kB,GAAK,E;;AACTA,mBAAKhC,QAAL,GAAeyC,QAAf;;qBACa,KAAKzH,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAG8G,SAASvC,QAAb,EAAlC,C;;;AAAT+B,gB;;AACJ,kBAAG,CAAC3G,MAAMC,OAAN,CAAc0G,EAAd,CAAJ,EACA;AACED,qBAAKE,cAAL,GAAoBD,EAApB;AACD;;qBACgB,KAAKjH,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,QAA3B,EAAoC,EAAC7D,IAAG+G,SAASiB,MAAb,EAApC,C;;;AAAbA,oB;;AACJ,mBAAKjE,MAAL,CAAY,UAAZ,EAAwBsC,IAAxB;AACA,mBAAKtC,MAAL,CAAY,QAAZ,EAAsBiE,MAAtB;;qBACkB,KAAK3I,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,gBAA3B,C;;;AAAdC,qB;;AACJ,mBAAKC,MAAL,CAAY,SAAZ,EAAsBD,OAAtB;AACV;;qBACoB,KAAKzE,KAAL,CAAW,MAAX,EAAmB4I,gBAAnB,CAAoC,EAACC,KAAIzB,GAAL,EAApC,C;;;AAAhB0B,uB;;AACJ,mBAAKpE,MAAL,CAAY,WAAZ,EAAwBoE,SAAxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;qBACkB,KAAKC,OAAL,CAAa,OAAb,C;;;AAAZC,mB;;kBACA1I,MAAMC,OAAN,CAAcyI,KAAd,C;;;;;;qBAEsB,KAAKhJ,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAACsD,MAAKkB,MAAMlB,IAAZ,EAAlC,C;;;AAApBmB,2B;;AACJ,mBAAKvE,MAAL,CAAY,eAAZ,EAA4BuE,aAA5B;AACA;;qBACsB,KAAKjJ,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,cAA3B,EAA0C,EAACmC,KAAIA,GAAL,EAAS8B,MAAK,SAAd,EAAwBnB,QAAOiB,MAAMlB,IAArC,EAA0CqB,WAAU,CAApD,EAA1C,C;;;AAAlBC,yB;;AACJ,kBAAGA,YAAYpF,MAAZ,GAAmB,CAAtB,EAAwB;AACtB,qBAAKU,MAAL,CAAY,KAAZ,EAAkB0E,YAAY,CAAZ,EAAezI,EAAjC;AACA,qBAAK+D,MAAL,CAAY,WAAZ,EAAwB,CAAxB;AACD,eAHD,MAGM;AACJ,qBAAKA,MAAL,CAAY,KAAZ,EAAkB,EAAlB;AACA,qBAAKA,MAAL,CAAY,WAAZ,EAAwB,CAAxB;AACD;;;AAEC2E,kB,GAAK3B,SAAS4B,QAAT,CAAkBnD,KAAlB,CAAwB,GAAxB,C;AACLoD,sB,GAAS,EAACF,MAAK,EAAN,E;AACPC,sB,GAAS,E;;kBACXhJ,MAAMC,OAAN,CAAc8I,IAAd,C;;;;;AACItF,e,GAAE,C;;;oBAAEA,IAAEsF,KAAKrF,M;;;;;kBAEb1D,MAAMC,OAAN,CAAc8I,KAAKtF,CAAL,CAAd,C;;;;;;qBAEY,KAAK/D,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAG0I,KAAKtF,CAAL,CAAJ,EAAlC,C;;;AAAVyF,iB;;AACJD,uBAASF,IAAT,CAAcvJ,IAAd,CAAmB,EAAC0J,KAAIC,KAAKC,KAAL,CAAW,yBAAeF,GAAf,CAAX,CAAL,EAAnB;;;AALsBzF,iB;;;;;;AAS1B,kBAAGwF,SAASF,IAAT,CAAcrF,MAAd,GAAqB,CAAxB,EACA;AACE,qBAAQD,CAAR,GAAU,CAAV,EAAYA,IAAEwF,SAASF,IAAT,CAAcrF,MAA5B,EAAmCD,GAAnC,EACA;AACE,sBAAGA,KAAIwF,SAASF,IAAT,CAAcrF,MAAd,GAAqB,CAA5B,EAA+BsF,YAAUC,SAASF,IAAT,CAActF,CAAd,EAAiByF,GAAjB,CAAqBG,OAA/B,CAA/B,KACKL,YAAUC,SAASF,IAAT,CAActF,CAAd,EAAiByF,GAAjB,CAAqBG,OAArB,GAA6B,IAAvC;AACN;AACF;;;AAEH,mBAAKjF,MAAL,CAAY,UAAZ,EAAuB4E,QAAvB;AACA,mBAAK5E,MAAL,CAAY,UAAZ,EAAuB6E,QAAvB;gDACiB,KAAK5E,WAAL,CAAiB,YAAjB,C;;;;;;;gDAGA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;;mBAIPiF,a;;;;;;;;qBACa,KAAKvG,GAAL,CAAS,KAAT,C;;;AAAX+D,iB;;qBACe,KAAKpH,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,SAA3B,EAAqC,EAAC7D,IAAGyG,GAAJ,EAArC,C;;;AAAfM,sB;;qBAEgB,KAAK1H,KAAL,CAAW,MAAX,EAAmB2H,YAAnB,CAAgC,EAAChH,IAAGyG,GAAJ,EAAhC,C;;;AAAhBQ,uB;;qBAEc,KAAK5H,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAG+G,SAAS8B,GAAb,EAAlC,C;;;AAAd3B,qB;;AACJ,mBAAKnD,MAAL,CAAY,UAAZ,EAAuBgD,QAAvB;AACA;AACIO,kB,GAAKP,SAAStH,O;AACd8H,sB,GAAS,E,EAAGC,Q,GAAS,E,EAAGC,K,GAAM,E;AAC9BC,iB,GAAI,KAAKhF,GAAL,CAAS,KAAT,C;;AACR,kBAAG4E,IAAH,EAAQ;AACJ,oBAAGA,KAAKK,OAAL,CAAa,aAAb,IAA4B,CAA/B,EAAiC;AAC7BJ,6BAASD,KAAK9B,KAAL,CAAW,aAAX,CAAT;AACA,sBAAGkC,GAAH,EAAO;AACC1H,sBADD,GACI0H,MAAI,CAAJ,GAAM,CADV;;AAEHF,+BAASD,SAASvH,EAAT,CAAT;AACH,mBAHD,MAGK;AACD0H,0BAAI,CAAJ;AACAF,+BAASD,SAAS,CAAT,CAAT;AACH;AACJ;AACJ;AACD;AACIyB,qB,GAAQ9B,QAAQ8B,OAAR,IAAiB,E;AACzBxF,mB,GAAMuD,SAASvD,KAAT,IAAgB,E;AACtBsE,yB,GAAYP,YAAU,E;AACtBQ,yB,GAAYP,YAAU,E;;;AAE1B,mBAAKzD,MAAL,CAAY,OAAZ,EAAoBgD,SAASvD,KAA7B;AACA,mBAAKO,MAAL,CAAY,UAAZ,EAAuB+D,WAAvB;AACA,mBAAK/D,MAAL,CAAY,UAAZ,EAAuBgE,WAAvB;AACA,mBAAKhE,MAAL,CAAY,KAAZ,EAAkB2D,GAAlB;AACA,mBAAK3D,MAAL,CAAY,SAAZ,EAAsBiF,OAAtB;iDACO,KAAKhF,WAAL,CAAiB,eAAjB,C;;;;;;;;;;;;;;;;AAEZ;;;mBACOkF,U;;;;;;AACF,mBAAKC,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMC,U;;;;;;AACF,mBAAKD,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACME,c;;;;;;AACF,mBAAKF,OAAL,CAAa,CAAb,EAAe,UAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMG,c;;;;;;AACF,mBAAKH,OAAL,CAAa,CAAb,EAAe,UAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMI,Y;;;;;;AACF,mBAAKJ,OAAL,CAAa,CAAb,EAAe,QAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMK,U;;;;;;AACF,mBAAKL,OAAL,CAAa,CAAb,EAAe,MAAf;;;;;;;;;;;;;;;;AAEJ;;;mBACMA,O;+FAAQ5D,M,EAAOkE,I;;;;;;AACbpE,wB,GAAW,KAAK3C,GAAL,CAAS,MAAT,KAAkB,C;AAC7B4C,sB,GAAS,KAAK5C,GAAL,CAAS,UAAT,KAAsB,E;AACnC;;;qBACmB,KAAKrD,KAAL,CAAW,MAAX,EAAmBsG,aAAnB,CAAiC,EAAC9F,MAAK0F,MAAN,EAAaK,aAAY,CAAzB,EAAjC,EAA6DP,UAA7D,EAAwEC,QAAxE,C;;;AAAfO,sB;;qBACe,KAAKxG,KAAL,CAAW,MAAX,EAAmByG,kBAAnB,CAAsC,EAACjG,MAAK0F,MAAN,EAAaK,aAAY,CAAzB,EAAtC,EAAkEP,UAAlE,EAA6EC,QAA7E,C;;;AAAftG,oB;AACA+G,kB,GAAKpG,MAAMqG,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACLC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAASF,KAAKG,UAAL,CAAgBpH,MAAhB,C;;;AAEb,mBAAK+E,MAAL,CAAY,UAAZ,EAAuB8B,QAAvB;AACA,mBAAK9B,MAAL,CAAY,UAAZ,EAAuBoC,QAAvB;AACA,mBAAKpC,MAAL,CAAY,MAAZ,EAAmB0F,IAAnB;AACA;;;qBAEe,KAAKpK,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC7D,IAAGuF,MAAJ,EAAlC,C;;;AAAX1F,kB;;AACJ,mBAAKkE,MAAL,CAAY,cAAZ,EAA2BlE,KAAK8E,QAAhC;AACA,mBAAKZ,MAAL,CAAY,MAAZ,EAAmB,CAAnB;iDACO,KAAKC,WAAL,CAAiB,YAAjB,C;;;;;;;;;;;;;;;;;mBAEL0F,U;;;;;;;AACEC,kB,GAAK,KAAKjH,GAAL,CAAS,MAAT,C;AACL6C,oB,GAAOoE,KAAKnE,KAAL,CAAW,GAAX,EAAgBmE,KAAKnE,KAAL,CAAW,GAAX,EAAgBnC,MAAhB,GAAuB,CAAvC,C;AACPtD,wB,GAAW4J,KAAKlE,OAAL,CAAa,MAAIF,MAAjB,EAAwB,EAAxB,C;AACXF,wB,GAAW,KAAK3C,GAAL,CAAS,MAAT,KAAkB,C;AAC7B4C,sB,GAAS,KAAK5C,GAAL,CAAS,UAAT,KAAsB,E;;qBACnB,KAAKrD,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,EAAkC,EAACC,UAAS9F,SAAS8G,MAAT,CAAV,EAAlC,C;;;AAAZ/F,mB;AACAoK,qB,GAAQ,CAACnL,SAAS8G,MAAT,CAAD,C;;AACZ,mBAASnC,CAAT,GAAa,CAAb,EAAgBA,IAAI5D,MAAM6D,MAA1B,EAAkCD,GAAlC,EAAuC;AACrClB,wBAAQC,GAAR,CAAY3C,MAAM4D,CAAN,EAASpD,EAArB;AACA4J,wBAAQzK,IAAR,CAAaK,MAAM4D,CAAN,EAASpD,EAAtB;AACD;AACDkC,sBAAQC,GAAR,CAAYyH,OAAZ;;qBACe,KAAKvK,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC9D,YAAWA,UAAZ,EAAuBC,IAAG,CAAC,IAAD,EAAO4J,OAAP,CAA1B,EAAlC,C;;;AAAX/J,kB;;mBACDA,KAAK8E,Q;;;;;;qBAEW,KAAKtF,KAAL,CAAW,MAAX,EAAmBsG,aAAnB,CAAiC,EAACC,aAAY,CAAb,EAAe/F,MAAK0F,MAApB,EAAjC,EAA6DF,UAA7D,EAAwEC,QAAxE,C;;;AAAfO,sB;;qBACe,KAAKxG,KAAL,CAAW,MAAX,EAAmByG,kBAAnB,CAAsC,EAACF,aAAY,CAAb,EAAe/F,MAAK0F,MAApB,EAAtC,EAAkEF,UAAlE,EAA6EC,QAA7E,C;;;AAAftG,oB;AACA+G,kB,GAAKpG,MAAMqG,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACLC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAASF,KAAKG,UAAL,CAAgBpH,MAAhB,C;;;AAEb,mBAAK+E,MAAL,CAAY,UAAZ,EAAuB8B,QAAvB;AACA,mBAAK9B,MAAL,CAAY,UAAZ,EAAuBoC,QAAvB;AACA,mBAAKpC,MAAL,CAAY,MAAZ,EAAmB,YAAUhE,UAAV,GAAqB,GAArB,GAA0BwF,MAA7C;AACA;AACA,mBAAKxB,MAAL,CAAY,MAAZ,EAAmB,CAAnB;AACA,mBAAKA,MAAL,CAAY,cAAZ,EAA2B,MAA3B;iDACO,KAAKC,WAAL,CAAiB,gBAAjB,C;;;iDAEE,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;AAGb;;;mBACM6F,c;;;;;;;AACEzE,e,GAAG,KAAK1C,GAAL,CAAS,MAAT,C;;AACPR,sBAAQC,GAAR,CAAYiD,CAAZ;AACIC,wB,GAAW,KAAK3C,GAAL,CAAS,MAAT,KAAkB,C;AAC7B4C,sB,GAAS,KAAK5C,GAAL,CAAS,UAAT,KAAsB,E;;qBACpB,KAAKA,GAAL,CAAS,MAAT,C;;;AAAXC,kB;AACA4C,oB,GAAO5C,KAAK6C,KAAL,CAAW,GAAX,EAAgB7C,KAAK6C,KAAL,CAAW,GAAX,EAAgBnC,MAAhB,GAAuB,CAAvC,C;AACPtD,wB,GAAW4C,KAAK8C,OAAL,CAAa,MAAIF,MAAjB,EAAwB,EAAxB,C;;AACfrD,sBAAQC,GAAR,CAAYoD,MAAZ;AACArD,sBAAQC,GAAR,CAAYpC,UAAZ;;qBACmB,KAAKV,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,MAA3B,EAAkC,EAAC9D,YAAWA,UAAZ,EAAuBC,IAAGuF,MAA1B,EAAlC,C;;;AAAflB,sB;;mBACDA,SAAS2E,O;;;;;;qBACa,KAAK3J,KAAL,CAAW,MAAX,EAAmBsG,aAAnB,CAAiC,EAACgD,UAAU,CAAC,MAAD,EAAS,OAAKpD,OAAOlE,QAAP,EAAL,GAAuB,IAAhC,CAAX,EAAkDuE,aAAa,CAA/D,EAAjC,EAAoGP,UAApG,EAAgHC,QAAhH,C;;;AAAjBO,sB;;qBACe,KAAKxG,KAAL,CAAW,MAAX,EAAmByG,kBAAnB,CAAsC;AACrD6C,0BAAU,CAAC,MAAD,EAAS,OAAKpD,OAAOlE,QAAP,EAAL,GAAuB,IAAhC,CAD2C;AAErDuE,6BAAa;AAFwC,eAAtC,EAGhBP,UAHgB,EAGJC,QAHI,C;;;AAAftG,oB;AAIA+G,kB,GAAOpG,MAAMqG,OAAN,CAAc,UAAd,EAA0B,MAA1B,C;AACPC,kB,GAAO,IAAIF,IAAJ,CAAS,KAAKG,IAAd,C;AACPC,sB,GAAWF,KAAKG,UAAL,CAAgBpH,MAAhB,C;;AACfkD,sBAAQC,GAAR,CAAY,QAAM0D,QAAlB;AACA,mBAAK9B,MAAL,CAAY,UAAZ,EAAwB8B,QAAxB;AACA,mBAAK9B,MAAL,CAAY,UAAZ,EAAwBoC,QAAxB;AACA;AACA,mBAAKpC,MAAL,CAAY,UAAZ,EAAwBM,QAAxB;AACA,mBAAKN,MAAL,CAAY,MAAZ,EAAoB,CAApB;AACA,mBAAKA,MAAL,CAAY,MAAZ,EAAoB,cAAYhE,UAAZ,GAAuB,GAAvB,GAA4BwF,MAAhD;iDACO,KAAKvB,WAAL,CAAiB,gBAAjB,C;;;iDAEA,KAAKA,WAAL,CAAiB,qBAAjB,C;;;;;;;;;;;;;;;;;AAKf;;;mBACM8F,e;;;;;;;;qBACgB,KAAK5F,IAAL,E;;;AAAd6F,oB;;oBACDA,OAAOC,MAAP,KAAgB,EAAhB,IAAoBD,OAAOE,IAAP,KAAc,EAAlC,IAAsCF,OAAOG,EAAP,KAAY,E;;;;;;qBACtC,KAAK7K,KAAL,CAAW,MAAX,EAAmB8K,SAAnB,CAA6B,OAA7B,EAAqCJ,MAArC,C;;;AAATK,gB;;mBACDA,E;;;;;iDAAW,KAAKjG,OAAL,E;;;;;;;;;;;;;;;;AAGpB;;;mBACMkG,e;;;;;;;;qBACgB,KAAKnG,IAAL,E;;;AAAd6F,oB;;oBACDA,OAAOO,QAAP,KAAkB,EAAlB,IAAsBP,OAAOQ,OAAP,KAAiB,EAAvC,IAA2CR,OAAOS,KAAP,KAAe,E;;;;;;qBAC9C,KAAKnL,KAAL,CAAW,MAAX,EAAmB8K,SAAnB,CAA6B,OAA7B,EAAqCJ,MAArC,C;;;AAATK,gB;;mBACDA,E;;;;;iDAAW,KAAKjG,OAAL,E;;;;;;;;;;;;;;;;;mBAGdsG,W;;;;;;AACF,mBAAK1G,MAAL,CAAY,OAAZ,EAAoB,KAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAEL0G,W;;;;;;AACF,mBAAK3G,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAEL2G,S;;;;;;AACF,mBAAK5G,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,WAAjB,C;;;;;;;;;;;;;;;;;mBAEL4G,e;;;;;;AACF,mBAAK7G,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,iBAAjB,C;;;;;;;;;;;;;;;;;mBAEL6G,W;;;;;;AACF,mBAAK9G,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,aAAjB,C;;;;;;;;;;;;;;;;;mBAEL8G,Y;;;;;;AACF,mBAAK/G,MAAL,CAAY,OAAZ,EAAoB,MAApB;iDACO,KAAKC,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAEL+G,Y;;;;;;AACF,mBAAKhH,MAAL,CAAY,OAAZ,EAAoB,IAApB;iDACO,KAAKC,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAELgH,c;;;;;;AACG,mBAAK5C,OAAL,CAAa,OAAb,EAAqB,EAArB;iDACA,KAAK6C,QAAL,CAAc,GAAd,C;;;;;;;;;;;;;;;;;AAGT;;;mBACMC,a;;;;;;;;AAEA;AACI7I,kB,GAAK,E;;qBACS,KAAKhD,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,QAA3B,EAAoC,EAAC7D,IAAG,CAAJ,EAApC,C;;;AAAdmL,qB;;qBAEW,KAAK9L,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,C;;;AAAX8G,kB;;qBAEc,KAAK/L,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,SAA3B,C;;;AAAd+G,qB;;qBAEY,KAAKhM,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,OAA3B,C;;;AAAZgH,mB;;qBAEW,KAAKjM,KAAL,CAAW,MAAX,EAAmBiF,OAAnB,CAA2B,MAA3B,C;;;AAAXiH,kB;AACAC,oB,GAAO,CACK,EAAExL,IAAI,CAAN,EAAS2E,UAAU,KAAnB,EAAyB7E,KAAI,aAA7B,EADL,EAEK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,MAAnB,EAA0B7E,KAAI,WAA9B,EAFL,EAGK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,QAAnB,EAA4B7E,KAAI,WAAhC,EAHL,EAIK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,MAAnB,EAA0B7E,KAAI,eAA9B,EAJL,EAKK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,IAAnB,EAAwB7E,KAAI,WAA5B,EALL,EAMK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,IAAnB,EAAwB7E,KAAI,eAA5B,EANL,EAOK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,IAAnB,EAAwB7E,KAAI,YAA5B,EAPL,EAQK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,MAAnB,EAA0B7E,KAAI,YAA9B,EARL,EASK,EAAEE,IAAI,CAAN,EAAS2E,UAAU,IAAnB,EAAwB7E,KAAI,eAA5B,EATL,EAUK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,IAApB,EAAyB7E,KAAI,aAA7B,EAVL,EAWK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,MAApB,EAA2B7E,KAAI,UAA/B,EAXL,EAYK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,MAApB,EAA2B7E,KAAI,aAA/B,EAZL,EAaK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,MAApB,EAA2B7E,KAAI,gBAA/B,EAbL,EAcK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,MAApB,EAA2B7E,KAAI,YAA/B,EAdL,EAeK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,KAApB,EAA0B7E,KAAI,YAA9B,EAfL,EAgBK,EAAEE,IAAI,EAAN,EAAU2E,UAAU,QAApB,EAA6B7E,KAAI,aAAjC,EAhBL,C;;AAkBXuC,qBAAK;AACDoJ,yBAAQN,QAAQrL,GADf;AAEDsL,sBAAKA,IAFJ;AAGDC,yBAAQA,OAHP;AAIDG,wBAAOA,MAJN;AAKDF,uBAAMA,KALL;AAMDC,sBAAKA;AANJ,eAAL;AAQA,gCAAOG,SAAP,CAAiBrJ,IAAjB;iDACO,KAAK2B,WAAL,CAAiB,eAAjB,C;;;;;;;;;;;;;;;;;mBAIP2H,Y;;;;;;iDACG,KAAK3H,WAAL,CAAiB,cAAjB,C;;;;;;;;;;;;;;;;;mBAMH4H,e;;;;;;;;AACJ1J,sBAAQC,GAAR,CAAY,KAAZ;AACA;AACI0J,oB,GAAS5K,QAAQ,QAAR,C;;AACb4K,qBAAOC,UAAP,CAAkB;AACdC,0BAAU,IAAIF,OAAOG,QAAX,EADI;AAEdC,qBAAK,IAFS;AAGdC,wBAAQ,IAHM;AAIdC,wBAAQ,IAJM;AAKdC,0BAAU,KALI;AAMdC,0BAAU,IANI;AAOdC,4BAAY,IAPE;AAQdC,6BAAa;AARC,eAAlB;AAUMC,0B,GAAa7M,MAAM8M,QAAN,CAAe,KAAKvI,IAAL,CAAU,YAAV,CAAf,C;;qBACF,KAAKA,IAAL,E;;;AAAX7B,kB;;AACJA,mBAAKJ,UAAL,GAAgBuK,YAAhB;;oBACGnK,KAAKqK,IAAL,KAAY,E;;;;;iDACN,KAAKC,IAAL,CAAU,EAACpK,QAAO,CAAR,EAAUqK,OAAM,CAAhB,EAAkBC,QAAO,yBAAzB,EAAV,C;;;AAEP;AACIvF,kB,GAAKuE,OAAOxJ,KAAKyK,OAAZ,C;AACT;;kBACInN,MAAMC,OAAN,CAAcyC,KAAKrC,EAAnB,C;;;;;;qBAEgB,KAAKX,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,iBAA3B,EAA6C,EAAC7D,IAAGqC,KAAKrC,EAAT,EAA7C,C;;;AAAd+M,qB;;qBACU,KAAK1N,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,SAA3B,EAAqC,EAAC7D,IAAGqC,KAAK6F,GAAT,EAArC,C;;;AAAVA,iB;;oBACD,CAACvI,MAAMC,OAAN,CAAcmN,OAAd,CAAD,IAAyB,CAACpN,MAAMC,OAAN,CAAcsI,GAAd,C;;;;;AAC3B;AACI8E,oB,GAAO;AACTC,4BAAWT,YADF;AAETU,8BAAa7K,KAAK+E,MAFT;AAGT+F,2BAAU9K,KAAK+K;AAHN,e;AAKX;AACA;AACA;;;qBACa,KAAK/N,KAAL,CAAW,MAAX,EAAmBgO,YAAnB,CAAgC,iBAAhC,EAAkD,EAACrN,IAAGqC,KAAKrC,EAAT,EAAlD,EAA+DqC,IAA/D,C;;;AAAT+H,gB;;mBACDA,E;;;;;iDAAW,KAAKjG,OAAL,E;;;;;;;iDAEP,KAAKmJ,IAAL,CAAU,gBAAV,C;;;;;;;AAGPpL,sBAAQC,GAAR,CAAY,YAAZ;AACF;AACI6K,qB,GAAO;AACTC,4BAAWT,YADF;AAETU,8BAAa7K,KAAK+E,MAFT;AAGT+F,2BAAU9K,KAAK+K;AAHN,e;;AAKXlL,sBAAQC,GAAR,CAAYE,KAAK6F,GAAjB;AACF;AACE;AACA;AACAhG,sBAAQC,GAAR,CAAY,aAAZ;;qBACa,KAAK9C,KAAL,CAAW,iBAAX,EAA8BkO,GAA9B,CAAkClL,IAAlC,C;;;AAAT+H,iB;;qBAEa,KAAK/K,KAAL,CAAW,MAAX,EAAmBmO,UAAnB,CAA8B,EAACrG,MAAK9E,KAAK+E,MAAX,EAA9B,EAAiD,KAAKqG,MAAL,CAAY,kBAAZ,CAAjD,C;;;AAAbC,oB;;qBAEiB,KAAKrO,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAC7C,IAAGqC,KAAK6F,GAAT,EAA5B,EAA2CyF,SAA3C,CAAqD,YAArD,EAAkE,CAAlE,C;;;AAAjBC,wB;;mBACDxD,G;;;;;iDAAW,KAAKjG,OAAL,E;;;;;;;;;;;;;;;;;mBAIhB0J,iB;;;;;;;;qBACa,KAAK3J,IAAL,E;;;AAAX7B,kB;AACAyL,kB,GAAKzL,KAAKrC,E;;kBACVL,MAAMC,OAAN,CAAckO,IAAd,C;;;;;;qBACa,KAAKzO,KAAL,CAAW,iBAAX,EAA8BwD,KAA9B,CAAoC,EAAC7C,IAAG8N,IAAJ,EAApC,EAA+CC,MAA/C,E;;;AAAT3D,gB;;qBAEiB,KAAK/K,KAAL,CAAW,SAAX,EAAsBwD,KAAtB,CAA4B,EAAC7C,IAAGqC,KAAK6F,GAAT,EAA5B,EAA2C8F,SAA3C,CAAqD,YAArD,EAAkE,CAAlE,C;;;AAAjBJ,wB;;mBACDxD,E;;;;;iDAAW,KAAKjG,OAAL,E;;;;;;;;;;;;;;;;;mBAGhB8J,c;;;;;;;;;qBACa,KAAK/J,IAAL,E;;;AAAX7B,kB;AACA6L,mB,GAAM7L,KAAK8L,M;AACXL,kB,GAAKzL,KAAKrC,E;;kBACVL,MAAMC,OAAN,CAAckO,IAAd,C;;;;;;qBACe,KAAKzO,KAAL,CAAW,MAAX,EAAmBwE,OAAnB,CAA2B,iBAA3B,EAA6C,EAAC7D,IAAG8N,IAAJ,EAA7C,C;;;AAAXjO,kB;AACAuO,iB,GAAK,CAACvO,KAAKsO,MAAP,GAAe,EAAf,GAAmBtO,KAAKsO,MAAN,CAAc3I,KAAd,CAAoB,GAApB,C;AACtB2I,oB,GAAOC,OAAK,E;AACZC,e,GAAEF,OAAOxG,OAAP,CAAeuG,KAAf,C;;oBACHG,IAAE,C;;;;;AACHF,qBAAOhP,IAAP,CAAY+O,KAAZ;AACII,uB,GAAUH,OAAOI,IAAP,CAAY,GAAZ,C;AACVC,e,GAAEL,OAAO9K,M;;qBACA,KAAKhE,KAAL,CAAW,iBAAX,EAA8BwD,KAA9B,CAAoC,EAAC7C,IAAG8N,IAAJ,EAApC,EAA+CW,MAA/C,CAAsD,EAACC,MAAKF,CAAN,EAAQL,QAAOG,SAAf,EAAtD,C;;;AAATlE,gB;;mBACDA,E;;;;;iDAAW,KAAKjG,OAAL,CAAa,EAACwK,WAAUH,CAAX,EAAb,C;;;;;;;AAEdL,qBAAOS,MAAP,CAAcP,CAAd,EAAgB,CAAhB;AACIG,gB,GAAEL,OAAO9K,M;AACTiL,wB,GAAUH,OAAOI,IAAP,CAAY,GAAZ,C;;qBACD,KAAKlP,KAAL,CAAW,iBAAX,EAA8BwD,KAA9B,CAAoC,EAAC7C,IAAG8N,IAAJ,EAApC,EAA+CW,MAA/C,CAAsD,EAACC,MAAKF,EAAN,EAAQL,QAAOG,UAAf,EAAtD,C;;;AAATlE,kB;;mBACDA,I;;;;;iDAAW,KAAKjG,OAAL,CAAa,EAACwK,WAAUH,EAAX,EAAb,C",
    "file": "..\\..\\..\\src\\home\\controller\\index.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport Create from './sitemap.js';\nfunction pad(value) {\n    if(parseInt(value) < 10) {\n        return '0' + value;\n    } else {\n        return value;\n    }\n}\nfunction getAttrFromString(str, node, attr) {\n    var regex = new RegExp('<' + node + ' .*?' + attr + '=\"(.*?)\"', \"gi\"), result, res = [];\n    while ((result = regex.exec(str))) {\n        res.push(result[1]);\n    }\n    return res;\n}\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n\n  // 首页\n  async categoriesAction()\n  {\n    let items=await this.model(\"item\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var obj={url: \"/video\",changefreq: 'weekly', priority: 0.8};\n    urls.push(obj);\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async tagsAction()\n  {\n    let items=await this.model(\"tags\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/xu-huong/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async sitemaparticleAction(){\nlet sitemaps=await this.model(\"sitemap\").order('id DESC').select();\n\nvar lstsm=[];\nvar content='';\nif(!think.isEmpty(sitemaps))\n{\n  var ct=new Date(sitemaps[0].lastmodified);\n  var ctlastM=ct.getFullYear() + \"-\" + ('0' + (ct.getMonth()+1)).slice(-2) + \"-\" + ('0' + ct.getDate()).slice(-2) + \"T\" + pad(ct.getHours()) + \":\" + pad(ct.getMinutes()) + \":\" + pad(ct.getSeconds())+\"+07:00\";\nlstsm=[{loc:\"http://tintech.vn/categories.xml\",lastMod:ctlastM},{loc:\"http://tintech.vn/tags.xml\",lastMod:ctlastM}];\n  for (var item of sitemaps) {\n    var ctime=new Date(item.createtime);\n    var createtime=ctime.getFullYear() + ('0' + (ctime.getMonth()+1)).slice(-2) + ('0' + ctime.getDate()).slice(-2)+\".xml\";\nconsole.log(createtime);\n    var lM=new Date(item.lastmodified);\n    var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n    var obj={loc:\"http://tintech.vn/article-\"+createtime,lastMod:lastM};\n    lstsm.push(obj);\n  }\n  //console.log(lstsm);\n  var smindex = require('sitemap-index');\n  var data=smindex.do(lstsm);\n  console.log(data);\n  if(data.status) content=data.indexes.toString();\n}\n\n//console.log(sitemaps);\n//let content = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:mobile=\"http://www.google.com/schemas/sitemap-mobile/1.0\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\"><url><loc>http://www.mywebsite.com/</loc><changefreq>weekly</changefreq><priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page1</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page2</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url></urlset>';\nthis.header('Content-Type', 'application/xml');\nthis.end(content);\n  }\n  async articleAction()\n  {\n   var aurl=await this.get(\"aurl\");\n   var ct=aurl.substring(0, 4)+\"-\"+aurl.substring(4, 6)+\"-\"+aurl.substring(6, 8);\n   var items=await this.model(\"article\").where({createtime:['like', '%'+ct+'%']}).order('lastmodified DESC').select();;\n   var content=\"\";\n   if(!think.isEmpty(items))\n   {\n     var urls=[];\n     var imgs=[];\n     var videos=[];\n     for (var item of items) {\n       var url=\"/\"+item.itemurlrewrite+\"-\"+item.item+\"/\"+item.urlrewrite+\"-\"+item.id;\n\n      var vds=getAttrFromString(item.content, 'video', 'src');\n       var images=getAttrFromString(item.content, 'img', 'src');\n       var alts=getAttrFromString(item.content, 'img', 'alt');\n       for (var i=0;i<images.length;i++) {\n         var ig={\n            url: 'http://tintech.vn'+images[i],\n            caption: alts[i],\n            title: item.title,\n            geoLocation: 'Ho Chi Minh, Vietnam',\n            license: 'http://tintech.vn/'\n          };\n          imgs.push(ig);\n       }\n      //  for (var it of vds) {\n      //    var vd={thumbnail_loc: 'http://test.com/tmbn1.jpg', title: 'A video title', description: 'This is a video',content_loc:\"http://tintech.vn\"+it}\n      //    videos.push(vd);\n      //  }\n       var lM=new Date(item.createtime);\n       if(item.lastmodified!=\"0000-00-00 00:00:00\") lM=new Date(item.lastmodified);\n       var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n       console.log(lastM)\n      // var obj={url: url,video:videos,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       var obj={url: url,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       urls.push(obj);\n     }\n     var sm = require('sitemap');\n     content = sm.createSitemap({\n        hostname: 'http://www.tintech.vn',\n        //cacheTime: 600000,  //600 sec (10 min) cache purge period\n        urls:urls\n      }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content);\n  }\n  async indexAction(){\n\n      let setting=await this.model('home').findOne('system_comment');\n      // this.assign(\"demo\",\"demo\")\n      // let content = await this.fetch('admin/content/style1');\n      // console.log(content);\n      //   this.assign(\"ss\",content)\n      this.assign(\"setting\",setting);\n\n      return this.displayView('index_index');\n  }\n  async getvideoAction(){\n    let id=await this.post(\"id\");\n    console.log(\"video\"+id);\n    var item=await this.model(\"home\").findOne(\"video\",{id:id});\n    return this.success({content:item});\n  }\n  async getnewsAction(){\n    let id=await this.post(\"id\");\n    var category=await this.model(\"home\").findOne(\"item\",{id:id});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:id});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n      }\n    console.log(content);\n    return this.success({content:content});\n  }\n  async menuAction(){\n    let b= this.get(\"page\");\n    console.log(b);\n    let pagenumber=this.get(\"page\")||1;\n    let pagesize=this.get(\"pagesize\")||10;\n    let aurl=await this.get(\"curl\");\n    let itemId=aurl.split('-')[aurl.split('-').length-1];\n    let urlrewrite=aurl.replace(\"-\"+itemId,\"\");\n\n    let category=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:itemId});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:itemId});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    console.log(category.itemname)\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n        var parentids=[category.id];\n        if(category.parentid==0)\n        {\n           var items=await this.model(\"home\").findAll(\"item\",{parentid:category.id});\n           if(items.length>0)\n           {\n             for (var i = 0; i < items.length; i++) {\n               parentids.push(items[i].id);\n             }\n           }\n        }\n        console.log(\"reject:\"+rejectarticles);\n        let itemList = await this.model(\"home\").getPageSelect({item: [\"IN\", parentids],id:[\"NOTIN\",rejectarticles], ispublished: 1}, pagenumber, pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({\n            item: [\"IN\", parentids],\n            id:[\"NOTIN\",rejectarticles],\n            ispublished: 1\n        }, pagenumber, pagesize);\n        let Page = think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData = page.pagination(result);\n        this.assign('pageData', pageData);\n        this.assign(\"itemList\", itemList);\n\n        //分页\n        var cate={};\n        cate.category= category;\n        var ca=await this.model(\"home\").findOne(\"item\",{id:category.parentid});\n        if(!think.isEmpty(ca))\n        {\n          cate.categoryparent=ca;\n        }\n        this.assign('category', cate);\n        this.assign('content', content);\n        this.assign('more', 0);\n        this.assign('menu', urlrewrite+'-'+ itemId);\n        return this.displayView('index_menu');\n    }else{\n        return this.displayView(\"../common/error_404\");\n    }\n\n        //let curl=this.get(\"curl\");\n      //  console.log(\"aaaa\"+curl);\n      //  return this.displayView('index_menu');\n  }\n  //文章页\n  async pageAction(){\n      let aurl=this.get(\"aurl\");\n        let aid=aurl.split('-')[aurl.split('-').length-1];\n        let aurlrewrite=aurl.replace(\"-\"+aid,\"\");\n        let curl=this.get(\"curl\");\n        let cid=curl.split('-')[curl.split('-').length-1];\n        let curlrewrite=curl.replace(\"-\"+cid,\"\");\n        let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n        console.log(menuInfo.itemname)\n        if(menuInfo.itemname){\n      let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n      if(blogInfo.ispublished===1){\n          // 设置浏览量加1\n          let viewcount=await this.model(\"home\").addViewCount({id:aid});\n          //获取标签名\n          let tagItem=await this.model(\"home\").findOne(\"item\",{id:blogInfo.item});\n          let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n          console.log(blogInfo.author);\n          this.assign('itemname',tagItem.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          var rejectarticles=[blogInfo.id];\n          for (var i = 0; i < relatearticle.length; i++) {\n            rejectarticles.push(relatearticle[i].id);\n          }\n          console.log(\"rejectarticles:\"+rejectarticles.toString());\n          let itemList = await this.model(\"article\").where({id:[\"NOTIN\",rejectarticles], ispublished: 1}).order(\"createtime DESC\").limit(10).select();\n          this.assign(\"itemList\", itemList);\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          var source=await this.model(\"home\").findOne(\"source\",{id:blogInfo.source})\n          this.assign('category', cate);\n          this.assign('source', source);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_page');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n\n    async previewAction(){\n        let aid= await this.get(\"aid\");\n        let blogInfo=await this.model(\"home\").findOne(\"article\",{id:aid});\n        // 设置浏览量加1\n        let viewcount=await this.model(\"home\").addViewCount({id:aid});\n        //获取标签名\n        let tagItem=await this.model(\"home\").findOne(\"tags\",{id:blogInfo.tag});\n        this.assign('blogInfo',blogInfo);\n        //设置文章分页\n        let html=blogInfo.content;\n        let strArray=[],particle='',ainfo='';\n        let pid=this.get('pid');\n        if(html){\n            if(html.indexOf(\"<!--page-->\")>0){\n                strArray=html.split(\"<!--page-->\");\n                if(pid){\n                    let id=pid*1-1;\n                    particle=strArray[id];\n                }else{\n                    pid=1;\n                    particle=strArray[0];\n                }\n            }\n        }\n        //跳转到内容分页\n        let tagname=tagItem.tagname||'';\n        let title=blogInfo.title||'';\n        let strArrayVal=strArray||'';\n        let particleVal=particle||'';\n\n        this.assign(\"title\",blogInfo.title);\n        this.assign('strArray',strArrayVal);\n        this.assign('particle',particleVal);\n        this.assign('pid',pid);\n        this.assign('tagname',tagname);\n        return this.displayView('index_preview');\n    }\n   //前端资讯\n    async newsAction(){\n        this.getList(2,'news');\n    }\n    //nodejs文章\n    async nodeAction(){\n        this.getList(3,'node');\n    }\n    //苹果精品软件\n    async downloadAction(){\n        this.getList(4,'download');\n    }\n    //活动\n    async activityAction(){\n        this.getList(6,'activity');\n    }\n    //大杂烩\n    async othersAction(){\n        this.getList(1,'others');\n    }\n    //招聘\n    async jobsAction(){\n        this.getList(5,'jobs');\n    }\n    //分类公用方法\n    async getList(itemId,menu){\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        var Page=think.adapter(\"template\", \"page\");\n        var page = new Page(this.http);\n        var pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu',menu);\n        //分页\n\n        let item=await this.model(\"home\").findOne(\"item\",{id:itemId});\n        this.assign('categoryName',item.itemname);\n        this.assign('more',0);\n        return this.displayView(\"index_item\");\n    }\n    async moreAction(){\n        let murl=this.get(\"murl\");\n        let itemId=murl.split('-')[murl.split('-').length-1];\n        let urlrewrite=murl.replace(\"-\"+itemId,\"\");\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        var items=await this.model(\"home\").findAll(\"item\",{parentid:parseInt(itemId)});\n        var lsttags=[parseInt(itemId)];\n        for (var i = 0; i < items.length; i++) {\n          console.log(items[i].id)\n          lsttags.push(items[i].id)\n        }\n        console.log(lsttags);\n        let item=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:['IN', lsttags]});\n        if(item.itemname) {\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let Page=think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu','tat-ca/'+urlrewrite+'-'+ itemId);\n        //分页\n        this.assign('more',1);\n        this.assign('categoryName','全部文章');\n        return this.displayView(\"index_category\");\n      }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n    //分类\n    async categoryAction(){\n        let b= this.get(\"page\");\n        console.log(b);\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        let aurl=await this.get(\"aurl\");\n        let itemId=aurl.split('-')[aurl.split('-').length-1];\n        let urlrewrite=aurl.replace(\"-\"+itemId,\"\");\n        console.log(itemId)\n        console.log(urlrewrite)\n        let category=await this.model(\"home\").findOne(\"tags\",{urlrewrite:urlrewrite,id:itemId});\n        if(category.tagname) {\n            let itemList = await this.model(\"home\").getPageSelect({keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"], ispublished: 1}, pagenumber, pagesize);\n            let result = await this.model(\"home\").getPageCountSelect({\n                keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"],\n                ispublished: 1\n            }, pagenumber, pagesize);\n            let Page = think.adapter(\"template\", \"page\");\n            let page = new Page(this.http);\n            let pageData = page.pagination(result);\n            console.log(\"tag\"+itemList);\n            this.assign(\"itemList\", itemList);\n            this.assign('pageData', pageData);\n            //分页\n            this.assign('category', category);\n            this.assign('more', 0);\n            this.assign('menu', 'xu-huong/'+urlrewrite+'-'+ itemId);\n            return this.displayView('index_category');\n        }else{\n            return this.displayView(\"../common/error_404\");\n        }\n\n    }\n\n    // 友情链接提交接口\n    async linkssaveAction(){\n        let mydata =await this.post();\n        if(mydata.domain!==''&&mydata.link!==''&&mydata.qq!==''){\n          let rs=await this.model(\"home\").addRecord(\"links\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    // 留言提交接口\n    async guestsaveAction(){\n        let mydata =await this.post();\n        if(mydata.nickname!==''&&mydata.contact!==''&&mydata.guest!==''){\n          let rs=await this.model(\"home\").addRecord(\"guest\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    async guestAction(){\n        this.assign(\"title\",\"留言板\");\n        return this.displayView(\"index_guest\");\n    }\n    async aboutAction(){\n        this.assign(\"title\",\"关于我们\");\n        return this.displayView(\"index_about\");\n    }\n    async adsAction(){\n        this.assign(\"title\",\"推广服务\");\n        return this.displayView(\"index_ads\");\n    }\n    async copyrightAction(){\n        this.assign(\"title\",\"版权声明\");\n        return this.displayView(\"index_copyright\");\n    }\n    async linksAction(){\n        this.assign(\"title\",\"友情链接\");\n        return this.displayView(\"index_links\");\n    }\n    async policyAction(){\n        this.assign(\"title\",\"注册协议\");\n        return this.displayView(\"index_policy\");\n    }\n    async donateAction(){\n        this.assign(\"title\",\"捐赠\");\n        return this.displayView(\"index_donate\");\n    }\n    async dologoutAction(){\n             this.session(\"uInfo\",\"\");\n      return this.redirect(\"/\");\n    }\n\n    // 站点地图\n    async sitemapAction() {\n\n          //生成xml\n          let data={};\n          let sysdata=await this.model(\"home\").findOne(\"system\",{id:1});\n          //获取分类页list\n          let list=await this.model(\"home\").findAll(\"item\");\n          //获取文章列表article\n          let article=await this.model(\"home\").findAll(\"article\");\n          //获取主题帖\n          let topic=await this.model(\"home\").findAll(\"topic\");\n          //获取个人主页\n          let user=await this.model(\"home\").findAll(\"user\");\n          let others=[\n                          { id: 1, itemname: '大杂烩',url:'others.html' },\n                          { id: 2, itemname: '前端资讯',url:'news.html' },\n                          { id: 3, itemname: 'nodejs',url:'node.html' },\n                          { id: 4, itemname: '资源下载',url:'download.html' },\n                          { id: 5, itemname: '招聘',url:'jobs.html' },\n                          { id: 6, itemname: '活动',url:'activity.html' },\n                          { id: 7, itemname: '关于',url:'about.html' },\n                          { id: 8, itemname: '友情链接',url:'links.html' },\n                          { id: 9, itemname: '注册',url:'register.html' },\n                          { id: 10, itemname: '捐赠',url:'donate.html' },\n                          { id: 11, itemname: '推广服务',url:'ads.html' },\n                          { id: 12, itemname: '注册协议',url:'policy.html' },\n                          { id: 13, itemname: '版权声明',url:'copyright.html' },\n                          { id: 14, itemname: '会员登录',url:'login.html' },\n                          { id: 15, itemname: '留言板',url:'guest.html' },\n                          { id: 16, itemname: 'liblog',url:'liblog.html' }\n                     ];\n          data={\n              homeurl:sysdata.url,\n              list:list,\n              article:article,\n              others:others,\n              topic:topic,\n              user:user\n          }\n          Create.createXml(data);\n          return this.displayView(\"index_sitemap\");\n\n    }\n\n    async liblogAction(){\n      return this.displayView(\"index_liblog\");\n    }\n\n\n\n\n    async savereplyAction(){\n      console.log(\"aaa\")\n      //编辑或者新增回复\n      let marked = require('marked');\n      marked.setOptions({\n          renderer: new marked.Renderer(),\n          gfm: true,\n          tables: true,\n          breaks: true,\n          pedantic: false,\n          sanitize: true,\n          smartLists: true,\n          smartypants: false\n      });\n        let mycreatetime=think.datetime(this.post('createtime'));\n        let data=await this.post();\n        data.createtime=mycreatetime;\n        if(data.text===''){\n          return this.json({status:0,errno:1,errmsg:'Trả lời không để trống!'});\n        }else{\n          // 解析markdown\n          let html=marked(data.comment);\n          // data.comment=html;\n          if(!think.isEmpty(data.id)){\n            //编辑\n            let isexist=await this.model(\"home\").findOne(\"article_comment\",{id:data.id});\n            let tid=await this.model(\"home\").findOne(\"article\",{id:data.tid});\n            if(!think.isEmpty(isexist)&&!think.isEmpty(tid)){\n              //更新最后回复数据\n              let updata={\n                updatetime:mycreatetime,\n                updateauthor:data.author,\n                updatepic:data.pic\n              }\n              //let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n              //更新最后回复数据\n              // 更新回复\n              let rs=await this.model(\"home\").updateRecord(\"article_comment\",{id:data.id},data);\n              if(rs) return this.success();\n            }else{\n              return this.fail(\"该主题或回复不存在或已删除！\");\n            }\n          }else{\n              console.log(\"thanh cong\");\n            //更新最后回复数据\n            let updata={\n              updatetime:mycreatetime,\n              updateauthor:data.author,\n              updatepic:data.pic\n            }\n            console.log(data.tid);\n          //  let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n            //更新最后回复数据\n            //增加\n            console.log(\"thanh cong2\");\n            let rs=await this.model(\"article_comment\").add(data);\n            // 增加积分\n            let points=await this.model(\"home\").increpoint({name:data.author},this.config('point.addcomment'));\n            // 增加回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).increment('replycount',1);\n            if(rs) return this.success();\n          }\n        }\n    }\n    async removereplyAction(){\n        let data=await this.post();\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let rs=await this.model(\"article_comment\").where({id:myid}).delete();\n            // 减少回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).decrement('replycount',1);\n            if(rs) return this.success();\n        }\n    }\n    async postlikeAction(){\n        let data=await this.post();\n        let liker=data.likers;\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let item=await this.model(\"home\").findOne(\"article_comment\",{id:myid});\n            let arr=(!item.likers)?[]:(item.likers).split(\",\");\n            let likers=arr||[];\n            let n=likers.indexOf(liker);\n            if(n<0){\n              likers.push(liker);\n              let newlikers=likers.join(\",\");\n              let m=likers.length;\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }else{\n              likers.splice(n,1);\n              let m=likers.length;\n              let newlikers=likers.join(\",\");\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }\n        }\n    }\n\n}\n"
    ]
}