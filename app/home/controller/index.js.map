{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\controller\\index.js"
    ],
    "names": [
        "pad",
        "value",
        "parseInt",
        "getAttrFromString",
        "str",
        "node",
        "attr",
        "regex",
        "RegExp",
        "result",
        "res",
        "exec",
        "push",
        "categoriesAction",
        "model",
        "order",
        "select",
        "items",
        "content",
        "urls",
        "think",
        "isEmpty",
        "item",
        "url",
        "urlrewrite",
        "id",
        "lM",
        "Date",
        "lastmodified",
        "lastM",
        "getFullYear",
        "getMonth",
        "slice",
        "getDate",
        "getHours",
        "getMinutes",
        "getSeconds",
        "obj",
        "lastmodISO",
        "changefreq",
        "priority",
        "sm",
        "require",
        "createSitemap",
        "hostname",
        "cacheTime",
        "toString",
        "header",
        "end",
        "tagsAction",
        "sitemaparticleAction",
        "sitemaps",
        "lstsm",
        "ct",
        "ctlastM",
        "loc",
        "lastMod",
        "ctime",
        "createtime",
        "console",
        "log",
        "smindex",
        "data",
        "do",
        "status",
        "indexes",
        "articleAction",
        "get",
        "aurl",
        "substring",
        "where",
        "ispublished",
        "imgs",
        "videos",
        "itemurlrewrite",
        "vds",
        "images",
        "alts",
        "i",
        "length",
        "ig",
        "caption",
        "title",
        "geoLocation",
        "license",
        "img",
        "indexAction",
        "findOne",
        "setting",
        "assign",
        "displayView",
        "getarticleAction",
        "post",
        "reject",
        "datais",
        "isid",
        "lstreject",
        "split",
        "areject",
        "articles",
        "arrid",
        "ids",
        "limit",
        "keywords",
        "success",
        "getvideoAction",
        "getnewsAction",
        "category",
        "findAll",
        "parentid",
        "lstcategory",
        "categories",
        "rejectarticles",
        "itemname",
        "style",
        "topList",
        "rejectnews",
        "newsList",
        "fetch",
        "newsList1",
        "menuAction",
        "pagenumber",
        "pagesize",
        "arrU",
        "itemId",
        "splice",
        "join",
        "parentids",
        "getPageSelect",
        "itemList",
        "getPageCountSelect",
        "Page",
        "adapter",
        "page",
        "http",
        "pageData",
        "pagination",
        "cate",
        "ca",
        "categoryparent",
        "pageAction",
        "aid",
        "aurlrewrite",
        "curl",
        "arrC",
        "cid",
        "curlrewrite",
        "menuInfo",
        "blogInfo",
        "addViewCount",
        "viewcount",
        "name",
        "author",
        "acc",
        "html",
        "strArray",
        "particle",
        "ainfo",
        "pid",
        "indexOf",
        "getArticleList",
        "relatearticle",
        "strArrayVal",
        "particleVal",
        "source",
        "getReplyListInfo",
        "tid",
        "replyList",
        "session",
        "uinfo",
        "loginuserinfo",
        "type",
        "iscollect",
        "collectList",
        "tags",
        "listtags",
        "tag",
        "JSON",
        "parse",
        "tagname",
        "previewAction",
        "newsAction",
        "getList",
        "nodeAction",
        "downloadAction",
        "activityAction",
        "othersAction",
        "jobsAction",
        "menu",
        "moreAction",
        "murl",
        "replace",
        "lsttags",
        "categoryAction",
        "linkssaveAction",
        "mydata",
        "domain",
        "link",
        "qq",
        "addRecord",
        "rs",
        "guestsaveAction",
        "nickname",
        "contact",
        "guest",
        "guestAction",
        "aboutAction",
        "adsAction",
        "copyrightAction",
        "linksAction",
        "policyAction",
        "donateAction",
        "dologoutAction",
        "redirect",
        "sitemapAction",
        "sysdata",
        "list",
        "article",
        "topic",
        "user",
        "others",
        "homeurl",
        "createXml",
        "liblogAction",
        "savereplyAction",
        "marked",
        "setOptions",
        "renderer",
        "Renderer",
        "gfm",
        "tables",
        "breaks",
        "pedantic",
        "sanitize",
        "smartLists",
        "smartypants",
        "mycreatetime",
        "datetime",
        "text",
        "json",
        "errno",
        "errmsg",
        "comment",
        "isexist",
        "updata",
        "updatetime",
        "updateauthor",
        "updatepic",
        "pic",
        "updateRecord",
        "fail",
        "add",
        "increpoint",
        "config",
        "points",
        "increment",
        "replycount",
        "removereplyAction",
        "myid",
        "delete",
        "decrement",
        "postlikeAction",
        "liker",
        "likers",
        "arr",
        "n",
        "newlikers",
        "m",
        "update",
        "like",
        "likeCount"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\home\\controller\\index.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport Create from './sitemap.js';\nfunction pad(value) {\n    if(parseInt(value) < 10) {\n        return '0' + value;\n    } else {\n        return value;\n    }\n}\nfunction getAttrFromString(str, node, attr) {\n    var regex = new RegExp('<' + node + ' .*?' + attr + '=\"(.*?)\"', \"gi\"), result, res = [];\n    while ((result = regex.exec(str))) {\n        res.push(result[1]);\n    }\n    return res;\n}\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n\n  // 首页\n  async categoriesAction()\n  {\n    let items=await this.model(\"item\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var obj={url: \"/video\",lastmodISO:\"2017-11-20T12:26:38+07:00\",changefreq: 'weekly', priority: 0.8};\n    urls.push(obj);\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async tagsAction()\n  {\n    let items=await this.model(\"tags\").order('id DESC').select();\n    var content=\"\";\n    var urls=[];\n    if(!think.isEmpty(items))\n    {\n    for (var item of items) {\n      var url=\"/tag/\"+item.urlrewrite+\"-\"+item.id;\n      var lM=new Date(item.lastmodified);\n      var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n      var obj={url: url,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n      urls.push(obj);\n    }\n    var sm = require('sitemap');\n    content = sm.createSitemap({\n       hostname: 'http://www.tintech.vn',\n       cacheTime: 600000,  //600 sec (10 min) cache purge period\n       urls:urls\n     }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content)\n  }\n  async sitemaparticleAction(){\nlet sitemaps=await this.model(\"sitemap\").order('id DESC').select();\n\nvar lstsm=[];\nvar content='';\nif(!think.isEmpty(sitemaps))\n{\n  var ct=new Date(sitemaps[0].lastmodified);\n  var ctlastM=ct.getFullYear() + \"-\" + ('0' + (ct.getMonth()+1)).slice(-2) + \"-\" + ('0' + ct.getDate()).slice(-2) + \"T\" + pad(ct.getHours()) + \":\" + pad(ct.getMinutes()) + \":\" + pad(ct.getSeconds())+\"+07:00\";\nlstsm=[{loc:\"http://tintech.vn/categories.xml\",lastMod:ctlastM},{loc:\"http://tintech.vn/tags.xml\",lastMod:ctlastM}];\n  for (var item of sitemaps) {\n    var ctime=new Date(item.createtime);\n    var createtime=ctime.getFullYear() + ('0' + (ctime.getMonth()+1)).slice(-2) + ('0' + ctime.getDate()).slice(-2)+\".xml\";\nconsole.log(createtime);\n    var lM=new Date(item.lastmodified);\n    var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n    var obj={loc:\"http://tintech.vn/article-\"+createtime,lastMod:lastM};\n    lstsm.push(obj);\n  }\n  //console.log(lstsm);\n  var smindex = require('sitemap-index');\n  var data=smindex.do(lstsm);\n  console.log(data);\n  if(data.status) content=data.indexes.toString();\n}\n\n//console.log(sitemaps);\n//let content = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:mobile=\"http://www.google.com/schemas/sitemap-mobile/1.0\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\"><url><loc>http://www.mywebsite.com/</loc><changefreq>weekly</changefreq><priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page1</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url><url> <loc>http://www.mywebsite.com/page2</loc> <changefreq>weekly</changefreq> <priority>0.8</priority> </url></urlset>';\nthis.header('Content-Type', 'application/xml');\nthis.end(content);\n  }\n  async articleAction()\n  {\n   var aurl=await this.get(\"aurl\");\n   var ct=aurl.substring(0, 4)+\"-\"+aurl.substring(4, 6)+\"-\"+aurl.substring(6, 8);\n   var items=await this.model(\"article\").where({createtime:['like', '%'+ct+'%'],ispublished: 1}).order('lastmodified DESC').select();;\n   var content=\"\";\n   if(!think.isEmpty(items))\n   {\n     var urls=[];\n     var imgs=[];\n     var videos=[];\n     for (var item of items) {\n       var url=\"/\"+item.itemurlrewrite+\"-\"+item.item+\"/\"+item.urlrewrite+\"-\"+item.id;\n\n      var vds=getAttrFromString(item.content, 'video', 'src');\n       var images=getAttrFromString(item.content, 'img', 'src');\n       var alts=getAttrFromString(item.content, 'img', 'alt');\n       for (var i=0;i<images.length;i++) {\n         var ig={\n            url: 'http://tintech.vn'+images[i],\n            caption: alts[i],\n            title: item.title,\n            geoLocation: 'Ho Chi Minh, Vietnam',\n            license: 'http://tintech.vn/'\n          };\n          imgs.push(ig);\n       }\n      //  for (var it of vds) {\n      //    var vd={thumbnail_loc: 'http://test.com/tmbn1.jpg', title: 'A video title', description: 'This is a video',content_loc:\"http://tintech.vn\"+it}\n      //    videos.push(vd);\n      //  }\n       var lM=new Date(item.createtime);\n       if(item.lastmodified!=\"0000-00-00 00:00:00\") lM=new Date(item.lastmodified);\n       var lastM=lM.getFullYear() + \"-\" + ('0' + (lM.getMonth()+1)).slice(-2) + \"-\" + ('0' + lM.getDate()).slice(-2) + \"T\" + pad(lM.getHours()) + \":\" + pad(lM.getMinutes()) + \":\" + pad(lM.getSeconds())+\"+07:00\";\n       console.log(lastM)\n      // var obj={url: url,video:videos,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       var obj={url: url,img:imgs,lastmodISO:lastM,changefreq: 'weekly', priority: 0.8};\n       urls.push(obj);\n       imgs=[];\n     }\n     var sm = require('sitemap');\n     content = sm.createSitemap({\n        hostname: 'http://www.tintech.vn',\n        //cacheTime: 600000,  //600 sec (10 min) cache purge period\n        urls:urls\n      }).toString();\n   }\n   this.header('Content-Type', 'application/xml');\n   this.end(content);\n  }\n  async indexAction(){\n\n      let setting=await this.model('home').findOne('system_comment');\n      // this.assign(\"demo\",\"demo\")\n      // let content = await this.fetch('admin/content/style1');\n      // console.log(content);\n      //   this.assign(\"ss\",content)\n      this.assign(\"setting\",setting);\n\n      return this.displayView('index_index');\n  }\n  async getarticleAction(){\n    let reject=await this.post(\"reject\");\n    let datais=await this.post(\"datais\");\n    let isid=await this.post(\"isid\");\n    let lstreject=reject.split(\",\");\n    let areject=[];\n    let articles={};\n    for (var item of lstreject) {\n      areject.push(item)\n    }\n    if(datais==\"category\"){\n      var arrid=isid.split(\",\");\n      var ids=[];\n      if(arrid.length>0)\n      {\n        for (var item of arrid) {\n          ids.push(item);\n        }\n      }\n      else {\n        ids.push(isid);\n      }\n      articles=await this.model(\"article\").where({id:[\"NOTIN\",areject],ispublished:1,item:[\"IN\",ids]}).order(\"createtime DESC\").limit(10).select();\n    }\n    else if (datais==\"tag\") {\n      articles=await this.model(\"article\").where({id:[\"NOTIN\",areject],ispublished:1,keywords: [\"like\", \"%,\"+isid.toString()+\",%\"]}).order(\"createtime DESC\").limit(10).select();\n    }\n    else {\n       articles=await this.model(\"article\").where({id:[\"NOTIN\",areject],ispublished:1}).order(\"createtime DESC\").limit(10).select();\n    }\n    console.log(reject);\n    return this.success({articles:articles});\n  }\n  async getvideoAction(){\n    let id=await this.post(\"id\");\n    console.log(\"video\"+id);\n    var item=await this.model(\"home\").findOne(\"video\",{id:id});\n    return this.success({content:item});\n  }\n  async getnewsAction(){\n    let id=await this.post(\"id\");\n    var category=await this.model(\"home\").findOne(\"item\",{id:id});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:id});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n      }\n    console.log(content);\n    return this.success({content:content});\n  }\n  async menuAction(){\n    let pagenumber=this.get(\"page\")||1;\n    let pagesize=this.get(\"pagesize\")||10;\n    let aurl=await this.get(\"curl\");\n    let arrU=aurl.split('-');\n    let itemId=arrU.splice(-1, 1);\n    let urlrewrite=arrU.join(\"-\");\n\n    let category=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:itemId});\n    let lstcategory=await this.model(\"home\").findAll(\"item\",{parentid:itemId});\n    let categories=[category.id];\n    for(var i=0;i<lstcategory.length;i++)\n    {\n      categories.push(lstcategory[i].id);\n    }\n    console.log(category.itemname)\n    var content=\"\";\n    var rejectarticles=[0];\n    if(category.itemname) {\n      if(category.style==1)\n      {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\nif(!think.isEmpty(topList)){\nvar rejectnews=[0];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n        rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n      content=await this.fetch(\"home/index/style1\");\n    }\n    }\n    else if(category.style==2)\n    {\n      let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(2).select();\n      if(!think.isEmpty(topList)){\n      var rejectnews=[];\n      for (var i = 0; i < topList.length; i++) {\n        rejectarticles.push(topList[i].id);\n            rejectnews.push(topList[i].id);\n      }\n\n      let newsList=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n\n      for (var i = 0; i < newsList.length; i++) {\n        rejectarticles.push(newsList[i].id);\n        rejectnews.push(newsList[i].id);\n      }\n      let newsList1=await this.model(\"article\").where({item:[\"IN\",categories],id:[\"NOTIN\",rejectnews]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(3).select();\n      for (var i = 0; i < newsList1.length; i++) {\n        rejectarticles.push(newsList1[i].id)\n      }\n      this.assign(\"topList\", topList);\n      this.assign(\"newsList\", newsList);\n        this.assign(\"newsList1\", newsList1);\n      content=await this.fetch(\"home/index/style2\");\n    }\n    }  else if(category.style==3)\n      {\n        let topList=await this.model(\"article\").where({item:[\"IN\",categories]}).order(\"flag_a DESC,totop DESC,torecom DESC,topicrecom DESC,createtime DESC\").limit(6).select();\nif(!think.isEmpty(topList)){\n        for (var i = 0; i < topList.length; i++) {\n          rejectarticles.push(topList[i].id);\n        }\n        this.assign(\"topList\", topList);\n        content=await this.fetch(\"home/index/style3\");\n      }\n      }\n        var parentids=[category.id];\n        if(category.parentid==0)\n        {\n           var items=await this.model(\"home\").findAll(\"item\",{parentid:category.id});\n           if(items.length>0)\n           {\n             for (var i = 0; i < items.length; i++) {\n               parentids.push(items[i].id);\n             }\n           }\n        }\n        console.log(\"reject:\"+rejectarticles);\n        let itemList = await this.model(\"home\").getPageSelect({item: [\"IN\", parentids],id:[\"NOTIN\",rejectarticles], ispublished: 1}, pagenumber, pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({\n            item: [\"IN\", parentids],\n            id:[\"NOTIN\",rejectarticles],\n            ispublished: 1\n        }, pagenumber, pagesize);\n        let Page = think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData = page.pagination(result);\n        this.assign('pageData', pageData);\n        this.assign(\"itemList\", itemList);\n\n        //分页\n        var cate={};\n        cate.category= category;\n        var ca=await this.model(\"home\").findOne(\"item\",{id:category.parentid});\n        if(!think.isEmpty(ca))\n        {\n          cate.categoryparent=ca;\n        }\n\n        this.assign(\"categories\", categories);\n        this.assign('category', cate);\n        this.assign('content', content);\n        this.assign('more', 0);\n        this.assign('menu', urlrewrite+'-'+ itemId);\n        return this.displayView('index_menu');\n    }else{\n        return this.displayView(\"../common/error_404\");\n    }\n\n        //let curl=this.get(\"curl\");\n      //  console.log(\"aaaa\"+curl);\n      //  return this.displayView('index_menu');\n  }\n\n  //文章页\n  async pageAction(){\n    let aurl=this.get(\"aurl\");\n    let arrU=aurl.split('-');\n      let aid=arrU.splice(-1, 1);\n      let aurlrewrite=arrU.join(\"-\");\n      let curl=this.get(\"curl\");\n      let arrC=curl.split('-');\n      let cid=arrC.splice(-1, 1);\n      let curlrewrite=arrC.join(\"-\");\n      let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n      if(!think.isEmpty(menuInfo)){\n    let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n    if(!think.isEmpty(blogInfo)){\n        // 设置浏览量加1\n      let viewcount=await this.model(\"home\").addViewCount({id:aid});\n        //获取标签名\n        let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n        console.log(blogInfo.author);\n          this.assign('itemname',menuInfo.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          var rejectarticles=[blogInfo.id];\n          for (var i = 0; i < relatearticle.length; i++) {\n            rejectarticles.push(relatearticle[i].id);\n          }\n          console.log(\"rejectarticles:\"+rejectarticles.toString());\n          let itemList = await this.model(\"article\").where({id:[\"NOTIN\",rejectarticles], ispublished: 1}).order(\"createtime DESC\").limit(10).select();\n          this.assign(\"itemList\", itemList);\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          var source=await this.model(\"home\").findOne(\"source\",{id:blogInfo.source})\n          this.assign('category', cate);\n          this.assign('source', source);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_page');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n\n    async previewAction(){\n      let aurl=this.get(\"aurl\");\n      let arrU=aurl.split('-');\n        let aid=arrU.splice(-1, 1);\n        let aurlrewrite=arrU.join(\"-\");\n        let curl=this.get(\"curl\");\n        let arrC=curl.split('-');\n        let cid=arrC.splice(-1, 1);\n        let curlrewrite=arrC.join(\"-\");\n        let menuInfo=await this.model(\"home\").findOne('item',{urlrewrite:curlrewrite,id:cid});\n        if(!think.isEmpty(menuInfo)){\n      let blogInfo=await this.model(\"home\").findOne('article',{urlrewrite:aurlrewrite,id:aid,item:cid});\n      if(!think.isEmpty(blogInfo)){\n          // 设置浏览量加1\n        //  let viewcount=await this.model(\"home\").addViewCount({id:aid});\n          //获取标签名\n          let acc=await this.model(\"home\").findOne(\"user\",{name:blogInfo.author});\n          console.log(blogInfo.author);\n          this.assign('itemname',menuInfo.itemname);\n          this.assign('blogInfo',blogInfo);\n          this.assign('acc',acc);\n          //设置文章分页\n          let html=blogInfo.content;\n          let strArray=[],particle='',ainfo='';\n          let pid=this.get('pid');\n          if(html){\n              if(html.indexOf(\"<!--page-->\")>0){\n                  strArray=html.split(\"<!--page-->\");\n                  if(pid){\n                      let id=pid*1-1;\n                      particle=strArray[id];\n                  }else{\n                      pid=1;\n                      particle=strArray[0];\n                  }\n              }\n          }\n          //关联文章\n          let relatearticle=await this.model(\"home\").getArticleList({id:['!=', aid],item:blogInfo.item,ispublished:1})\n          this.assign(\"relatearticle\",relatearticle);\n\n          var rejectarticles=[blogInfo.id];\n          for (var i = 0; i < relatearticle.length; i++) {\n            rejectarticles.push(relatearticle[i].id);\n          }\n          console.log(\"rejectarticles:\"+rejectarticles.toString());\n          let itemList = await this.model(\"article\").where({id:[\"NOTIN\",rejectarticles], ispublished: 1}).order(\"createtime DESC\").limit(10).select();\n          this.assign(\"itemList\", itemList);\n          //跳转到内容分页\n          let title=blogInfo.title||'';\n          let strArrayVal=strArray||'';\n          let particleVal=particle||'';\n\n          this.assign(\"title\",blogInfo.title);\n          this.assign('strArray',strArrayVal);\n          this.assign('particle',particleVal);\n          this.assign('pid',pid);\n          this.assign('menu',menuInfo);\n          var cate={};\n          cate.category= menuInfo;\n          var ca=await this.model(\"home\").findOne(\"item\",{id:menuInfo.parentid});\n          if(!think.isEmpty(ca))\n          {\n            cate.categoryparent=ca;\n          }\n          var source=await this.model(\"home\").findOne(\"source\",{id:blogInfo.source})\n          this.assign('category', cate);\n          this.assign('source', source);\n          let setting=await this.model('home').findOne('system_comment');\n          this.assign(\"setting\",setting);\n//comment\nlet replyList=await this.model(\"home\").getReplyListInfo({tid:aid});\nthis.assign(\"replyList\",replyList);\n\n//let topicItem=await this.model(\"topic\").findOne(\"topic_item\",{name:topicInfo.item});\n//let viewcount=await this.model(\"article\").where({id:aid}).increment('view',1);\n//this.assign('topicInfo',topicInfo);\n//this.assign(\"replycount\",blogInfo.replycount);\n//this.assign('topicItem',topicItem.comment);\n\n//account\n  let uinfo=await this.session('uInfo');\n  if(!think.isEmpty(uinfo))\n  {\n    let loginuserinfo=await this.model('home').findOne('user',{name:uinfo.name});\n    this.assign(\"loginuserinfo\",loginuserinfo);\n    //collection\n    let collectList=await this.model('home').findAll('user_collect',{aid:aid,type:'article',author:uinfo.name,iscollect:1});\n    if(collectList.length>0){\n      this.assign(\"cid\",collectList[0].id);\n      this.assign(\"iscollect\",1);\n    }else {\n      this.assign(\"cid\",\"\");\n      this.assign(\"iscollect\",0);\n    }\n  }\n  var tags=blogInfo.keywords.split(\",\");\n  var listtags={tags:[]}\n    var keywords=\"\";\n  if(!think.isEmpty(tags)){\n  for(var i=0;i<tags.length;i++)\n  {\n    if(!think.isEmpty(tags[i]))\n    {\n      var tag=await this.model(\"home\").findOne(\"tags\",{id:tags[i]});\n      listtags.tags.push({tag:JSON.parse(JSON.stringify(tag))});\n    }\n  }\n\n  if(listtags.tags.length>0)\n  {\n    for(var i=0;i<listtags.tags.length;i++)\n    {\n      if(i==(listtags.tags.length-1))keywords+=listtags.tags[i].tag.tagname\n      else keywords+=listtags.tags[i].tag.tagname+\", \"\n    }\n  }\n}\nthis.assign(\"keywords\",keywords);\nthis.assign(\"listtags\",listtags);\n          return this.displayView('index_preview');\n      }\n        }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n   //前端资讯\n    async newsAction(){\n        this.getList(2,'news');\n    }\n    //nodejs文章\n    async nodeAction(){\n        this.getList(3,'node');\n    }\n    //苹果精品软件\n    async downloadAction(){\n        this.getList(4,'download');\n    }\n    //活动\n    async activityAction(){\n        this.getList(6,'activity');\n    }\n    //大杂烩\n    async othersAction(){\n        this.getList(1,'others');\n    }\n    //招聘\n    async jobsAction(){\n        this.getList(5,'jobs');\n    }\n    //分类公用方法\n    async getList(itemId,menu){\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({item:itemId,ispublished:1},pagenumber,pagesize);\n        var Page=think.adapter(\"template\", \"page\");\n        var page = new Page(this.http);\n        var pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu',menu);\n        //分页\n\n        let item=await this.model(\"home\").findOne(\"item\",{id:itemId});\n        this.assign('categoryName',item.itemname);\n        this.assign('more',0);\n        return this.displayView(\"index_item\");\n    }\n    async moreAction(){\n        let murl=this.get(\"murl\");\n        let itemId=murl.split('-')[murl.split('-').length-1];\n        let urlrewrite=murl.replace(\"-\"+itemId,\"\");\n        let pagenumber=this.get(\"page\")||1;\n        let pagesize=this.get(\"pagesize\")||10;\n        var items=await this.model(\"home\").findAll(\"item\",{parentid:parseInt(itemId)});\n        var lsttags=[parseInt(itemId)];\n        for (var i = 0; i < items.length; i++) {\n          console.log(items[i].id)\n          lsttags.push(items[i].id)\n        }\n        console.log(lsttags);\n        let item=await this.model(\"home\").findOne(\"item\",{urlrewrite:urlrewrite,id:['IN', lsttags]});\n        if(item.itemname) {\n        //分页\n        let itemList=await this.model(\"home\").getPageSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let result = await this.model(\"home\").getPageCountSelect({ispublished:1,item:itemId},pagenumber,pagesize);\n        let Page=think.adapter(\"template\", \"page\");\n        let page = new Page(this.http);\n        let pageData=page.pagination(result);\n\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign('menu','tat-ca/'+urlrewrite+'-'+ itemId);\n        //分页\n        this.assign('more',1);\n        this.assign('categoryName','全部文章');\n        return this.displayView(\"index_category\");\n      }else{\n          return this.displayView(\"../common/error_404\");\n      }\n    }\n    //分类\n    async categoryAction(){\n      let pagenumber=this.get(\"page\")||1;\n      let pagesize=this.get(\"pagesize\")||10;\n      let aurl=await this.get(\"aurl\");\n      let arrU=aurl.split('-');\n      let itemId=arrU.splice(-1, 1);\n      let urlrewrite=arrU.join(\"-\");\n        let category=await this.model(\"home\").findOne(\"tags\",{urlrewrite:urlrewrite,id:itemId});\n        if(category.tagname) {\n            let itemList = await this.model(\"home\").getPageSelect({keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"], ispublished: 1}, pagenumber, pagesize);\n            let result = await this.model(\"home\").getPageCountSelect({\n                keywords: [\"like\", \"%,\"+itemId.toString()+\",%\"],\n                ispublished: 1\n            }, pagenumber, pagesize);\n            let Page = think.adapter(\"template\", \"page\");\n            let page = new Page(this.http);\n            let pageData = page.pagination(result);\n            console.log(\"tag\"+itemList);\n            this.assign(\"itemList\", itemList);\n            this.assign('pageData', pageData);\n            //分页\n            this.assign('category', category);\n            this.assign('more', 0);\n            this.assign('menu', 'tag/'+urlrewrite+'-'+ itemId);\n            return this.displayView('index_category');\n        }else{\n            return this.displayView(\"../common/error_404\");\n        }\n\n    }\n\n    // 友情链接提交接口\n    async linkssaveAction(){\n        let mydata =await this.post();\n        if(mydata.domain!==''&&mydata.link!==''&&mydata.qq!==''){\n          let rs=await this.model(\"home\").addRecord(\"links\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    // 留言提交接口\n    async guestsaveAction(){\n        let mydata =await this.post();\n        if(mydata.nickname!==''&&mydata.contact!==''&&mydata.guest!==''){\n          let rs=await this.model(\"home\").addRecord(\"guest\",mydata);\n          if(rs) return this.success();\n        }\n    }\n    async guestAction(){\n        this.assign(\"title\",\"留言板\");\n        return this.displayView(\"index_guest\");\n    }\n    async aboutAction(){\n        this.assign(\"title\",\"关于我们\");\n        return this.displayView(\"index_about\");\n    }\n    async adsAction(){\n        this.assign(\"title\",\"推广服务\");\n        return this.displayView(\"index_ads\");\n    }\n    async copyrightAction(){\n        this.assign(\"title\",\"版权声明\");\n        return this.displayView(\"index_copyright\");\n    }\n    async linksAction(){\n        this.assign(\"title\",\"友情链接\");\n        return this.displayView(\"index_links\");\n    }\n    async policyAction(){\n        this.assign(\"title\",\"注册协议\");\n        return this.displayView(\"index_policy\");\n    }\n    async donateAction(){\n        this.assign(\"title\",\"捐赠\");\n        return this.displayView(\"index_donate\");\n    }\n    async dologoutAction(){\n             this.session(\"uInfo\",\"\");\n      return this.redirect(\"/\");\n    }\n\n    // 站点地图\n    async sitemapAction() {\n\n          //生成xml\n          let data={};\n          let sysdata=await this.model(\"home\").findOne(\"system\",{id:1});\n          //获取分类页list\n          let list=await this.model(\"home\").findAll(\"item\");\n          //获取文章列表article\n          let article=await this.model(\"home\").findAll(\"article\");\n          //获取主题帖\n          let topic=await this.model(\"home\").findAll(\"topic\");\n          //获取个人主页\n          let user=await this.model(\"home\").findAll(\"user\");\n          let others=[\n                          { id: 1, itemname: '大杂烩',url:'others.html' },\n                          { id: 2, itemname: '前端资讯',url:'news.html' },\n                          { id: 3, itemname: 'nodejs',url:'node.html' },\n                          { id: 4, itemname: '资源下载',url:'download.html' },\n                          { id: 5, itemname: '招聘',url:'jobs.html' },\n                          { id: 6, itemname: '活动',url:'activity.html' },\n                          { id: 7, itemname: '关于',url:'about.html' },\n                          { id: 8, itemname: '友情链接',url:'links.html' },\n                          { id: 9, itemname: '注册',url:'register.html' },\n                          { id: 10, itemname: '捐赠',url:'donate.html' },\n                          { id: 11, itemname: '推广服务',url:'ads.html' },\n                          { id: 12, itemname: '注册协议',url:'policy.html' },\n                          { id: 13, itemname: '版权声明',url:'copyright.html' },\n                          { id: 14, itemname: '会员登录',url:'login.html' },\n                          { id: 15, itemname: '留言板',url:'guest.html' },\n                          { id: 16, itemname: 'liblog',url:'liblog.html' }\n                     ];\n          data={\n              homeurl:sysdata.url,\n              list:list,\n              article:article,\n              others:others,\n              topic:topic,\n              user:user\n          }\n          Create.createXml(data);\n          return this.displayView(\"index_sitemap\");\n\n    }\n\n    async liblogAction(){\n      return this.displayView(\"index_liblog\");\n    }\n\n\n\n\n    async savereplyAction(){\n      console.log(\"aaa\")\n      //编辑或者新增回复\n      let marked = require('marked');\n      marked.setOptions({\n          renderer: new marked.Renderer(),\n          gfm: true,\n          tables: true,\n          breaks: true,\n          pedantic: false,\n          sanitize: true,\n          smartLists: true,\n          smartypants: false\n      });\n        let mycreatetime=think.datetime(this.post('createtime'));\n        let data=await this.post();\n        data.createtime=mycreatetime;\n        if(data.text===''){\n          return this.json({status:0,errno:1,errmsg:'Trả lời không để trống!'});\n        }else{\n          // 解析markdown\n          let html=marked(data.comment);\n          // data.comment=html;\n          if(!think.isEmpty(data.id)){\n            //编辑\n            let isexist=await this.model(\"home\").findOne(\"article_comment\",{id:data.id});\n            let tid=await this.model(\"home\").findOne(\"article\",{id:data.tid});\n            if(!think.isEmpty(isexist)&&!think.isEmpty(tid)){\n              //更新最后回复数据\n              let updata={\n                updatetime:mycreatetime,\n                updateauthor:data.author,\n                updatepic:data.pic\n              }\n              //let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n              //更新最后回复数据\n              // 更新回复\n              let rs=await this.model(\"home\").updateRecord(\"article_comment\",{id:data.id},data);\n              if(rs) return this.success();\n            }else{\n              return this.fail(\"该主题或回复不存在或已删除！\");\n            }\n          }else{\n              console.log(\"thanh cong\");\n            //更新最后回复数据\n            let updata={\n              updatetime:mycreatetime,\n              updateauthor:data.author,\n              updatepic:data.pic\n            }\n            console.log(data.tid);\n          //  let updatetime=await this.model(\"home\").updateRecord(\"article\",{id:data.tid},updata);\n            //更新最后回复数据\n            //增加\n            console.log(\"thanh cong2\");\n            let rs=await this.model(\"article_comment\").add(data);\n            // 增加积分\n            let points=await this.model(\"home\").increpoint({name:data.author},this.config('point.addcomment'));\n            // 增加回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).increment('replycount',1);\n            if(rs) return this.success();\n          }\n        }\n    }\n    async removereplyAction(){\n        let data=await this.post();\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let rs=await this.model(\"article_comment\").where({id:myid}).delete();\n            // 减少回复数\n            let replycount=await this.model(\"article\").where({id:data.tid}).decrement('replycount',1);\n            if(rs) return this.success();\n        }\n    }\n    async postlikeAction(){\n        let data=await this.post();\n        let liker=data.likers;\n        let myid=data.id;\n        if(!think.isEmpty(myid)){\n            let item=await this.model(\"home\").findOne(\"article_comment\",{id:myid});\n            let arr=(!item.likers)?[]:(item.likers).split(\",\");\n            let likers=arr||[];\n            let n=likers.indexOf(liker);\n            if(n<0){\n              likers.push(liker);\n              let newlikers=likers.join(\",\");\n              let m=likers.length;\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }else{\n              likers.splice(n,1);\n              let m=likers.length;\n              let newlikers=likers.join(\",\");\n              let rs=await this.model(\"article_comment\").where({id:myid}).update({like:m,likers:newlikers});\n              if(rs) return this.success({likeCount:m});\n            }\n        }\n    }\n\n}\n"
    ]
}