{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\tag.js"
    ],
    "names": [
        "init",
        "mydb",
        "title",
        "edit",
        "add",
        "action",
        "indexAction",
        "info",
        "db",
        "page",
        "get",
        "pagesize",
        "model",
        "getIndex",
        "mydata",
        "assign",
        "itemList",
        "pageData",
        "display",
        "itemAction",
        "id",
        "getItem",
        "item",
        "saveAction",
        "data",
        "post",
        "tagexist",
        "think",
        "isEmpty",
        "findOne",
        "tagname",
        "tag",
        "success",
        "doSaveTags",
        "status",
        "delsomeAction",
        "arr",
        "where",
        "deleteRecord",
        "rs"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\admin\\controller\\tag.js",
    "sourcesContent": [
        "'use strict';\nlet init={\n    mydb:\"tags\",\n    title:\"Danh sách chuyên mục\",\n    edit:\"Cập nhật chuyên mục\",\n    add:\"Thêm từ khóa\",\n    action:\"tag\"\n}\nimport Base from './base.js';\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n      async indexAction(){\n          let info={\n            db:init.mydb,\n            page:this.get(\"page\")||1,\n            pagesize:this.get(\"pagesize\")||10\n          }\n          let mydata=await this.model('util').getIndex(info);\n          this.assign(\"itemList\",mydata.itemList);\n          this.assign('pageData',mydata.pageData);\n          this.assign(\"title\",init.title);\n          this.assign(\"action\",init.action);\n          return this.display();\n      }\n\n     async itemAction(){\n\n           let info={\n             db:init.mydb,\n             edit:init.edit,\n             add:init.add,\n             id:this.get('id')\n           }\n           let mydata=await this.model('util').getItem(info);\n           this.assign(\"title\",mydata.title);\n           this.assign('item',mydata.item);\n           this.assign(\"action\",init.action);\n           return this.display();\n     }\n\n     //编辑或者新增接口\n     async saveAction() {\n          let info={\n            db:init.mydb,\n            data:this.post(),\n            id:this.post('id')\n          }\n          var tagexist=false;\n          if(!think.isEmpty(info.data.id)){\n            var tag=await this.model(\"admin\").findOne(\"tags\",{tagname:info.data.tagname,id:[\"NOTIN\",info.data.id]})\n            if(!think.isEmpty(tag))tagexist=true;\n          }\n          else {\n            var tag=await this.model(\"admin\").findOne(\"tags\",{tagname:info.data.tagname})\n            if(!think.isEmpty(tag))tagexist=true;\n          }\n          if(tagexist) return this.success({tagexist:tagexist});\n          let mydata=await this.model('util').doSaveTags(info);\n          if(mydata.status===1) return this.success(mydata);\n    }\n\n    //删除或批量删除接口\n    async delsomeAction(){\n          let info={\n            db:init.mydb,\n            arr:this.post('delarr[]')\n          }\n          let where={id: [\"IN\", info.arr]};\n          let rs=await this.model(\"admin\").deleteRecord(info.db,where);\n          if(rs) return this.success();\n    }\n\n}\n"
    ]
}