{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\permission.js"
    ],
    "names": [
        "init",
        "mydb",
        "title",
        "edit",
        "add",
        "action",
        "getIndex",
        "info",
        "model",
        "getRoleJoinRecord",
        "manage_tag",
        "on",
        "page",
        "pagesize",
        "itemList",
        "db",
        "countSelect",
        "result",
        "Page",
        "think",
        "adapter",
        "pageData",
        "pagination",
        "indexAction",
        "get",
        "mydata",
        "assign",
        "display",
        "itemAction",
        "id",
        "getItem",
        "select",
        "tagList",
        "item",
        "saveAction",
        "data",
        "post",
        "doSave",
        "status",
        "success",
        "delsomeAction",
        "arr",
        "where",
        "deleteRecord",
        "rs"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\admin\\controller\\permission.js",
    "sourcesContent": [
        "'use strict';\nlet init={\n    mydb:\"manage_permission\",\n    title:\"Danh sách vai trò\",\n    edit:\"Cập nhật vai trò\",\n    add:\"Thêm vai trò\",\n    action:\"permission\"\n}\nimport Base from './base.js';\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n       async getIndex(info){\n\n              let itemList = await this.model('admin').getRoleJoinRecord({manage_tag: {on: \"tag, id\"}},info.page,info.pagesize);\n              let result = await this.model(info.db).page(info.page,info.pagesize).countSelect();\n              //分页thinkjs分页数据\n              let Page=think.adapter(\"template\", \"page\");\n              let page = new Page();\n              let pageData=page.pagination(result,info.page);\n              return {\n                 itemList:itemList,\n                 pageData:pageData\n              };\n       }\n      async indexAction(){\n          let info={\n            db:init.mydb,\n            page:this.get(\"page\")||1,\n            pagesize:this.get(\"pagesize\")||10\n          }\n          let mydata=await this.getIndex(info);\n          this.assign(\"itemList\",mydata.itemList);\n          this.assign('pageData',mydata.pageData);\n          this.assign(\"title\",init.title);\n          this.assign(\"action\",init.action);\n          return this.display();\n      }\n\n     async itemAction(){\n\n           let info={\n             db:init.mydb,\n             edit:init.edit,\n             add:init.add,\n             id:this.get('id')\n           }\n           let mydata=await this.model('util').getItem(info);\n           let tagList=await this.model('manage_tag').select();\n           this.assign(\"tagList\",tagList);\n           this.assign(\"title\",mydata.title);\n           this.assign('item',mydata.item);\n           this.assign(\"action\",init.action);\n           return this.display();\n     }\n\n     //编辑或者新增接口\n     async saveAction() {\n          let info={\n            db:init.mydb,\n            data:this.post(),\n            id:this.post('id')\n          }\n          let mydata=await this.model('util').doSave(info);\n          if(mydata.status===1) return this.success();\n    }\n\n    //删除或批量删除接口\n    async delsomeAction(){\n          let info={\n            db:init.mydb,\n            arr:this.post('delarr[]')\n          }\n          let where={id: [\"IN\", info.arr]};\n          let rs=await this.model(\"admin\").deleteRecord(info.db,where);\n          if(rs) return this.success();\n    }\n\n}\n"
    ]
}