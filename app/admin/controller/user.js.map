{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\admin\\controller\\user.js"
    ],
    "names": [
        "init",
        "mydb",
        "title",
        "edit",
        "add",
        "action",
        "indexAction",
        "info",
        "db",
        "page",
        "get",
        "pagesize",
        "model",
        "getUserListJoinRecord",
        "itemList",
        "countSelect",
        "result",
        "Page",
        "think",
        "adapter",
        "pageData",
        "pagination",
        "assign",
        "display",
        "adminlistAction",
        "map",
        "where",
        "itemAction",
        "id",
        "getItem",
        "mydata",
        "findAll",
        "roleList",
        "item",
        "saveAction",
        "newData",
        "post",
        "password",
        "md5",
        "data",
        "doSave",
        "status",
        "success",
        "delsomeAction",
        "arr",
        "deleteRecord",
        "rs"
    ],
    "mappings": "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",
    "file": "..\\..\\..\\src\\admin\\controller\\user.js",
    "sourcesContent": [
        "'use strict';\nlet init={\n    mydb:\"user\",\n    title:\"用户管理\",\n    edit:\"用户编辑\",\n    add:\"用户添加\",\n    action:\"user\"\n}\nimport Base from './base.js';\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n\n      async indexAction(){\n          let info={\n            db:init.mydb,\n            page:this.get(\"page\")||1,\n            pagesize:this.get(\"pagesize\")||10\n          }\n          let itemList = await this.model('admin').getUserListJoinRecord({},info.page,info.pagesize);\n          let result = await this.model(info.db).page(info.page,info.pagesize).countSelect();\n          let Page=think.adapter(\"template\", \"page\");\n          let page = new Page();\n          let pageData=page.pagination(result,info.page);\n          this.assign(\"itemList\",itemList);\n          this.assign('pageData',pageData);\n          this.assign(\"title\",init.title);\n          this.assign(\"action\",init.action);\n          return this.display();\n      }\n      async adminlistAction(){\n        let info={\n          db:init.mydb,\n          page:this.get(\"page\")||1,\n          pagesize:this.get(\"pagesize\")||10\n        }\n        let map={'li_user.role':{'>':0}};\n        let itemList = await this.model('admin').getUserListJoinRecord(map,info.page,info.pagesize);\n        let result = await this.model(info.db).page(info.page,info.pagesize).where(map).countSelect();\n        let Page=think.adapter(\"template\", \"page\");\n        let page = new Page();\n        let pageData=page.pagination(result,info.page);\n        this.assign(\"itemList\",itemList);\n        this.assign('pageData',pageData);\n        this.assign(\"title\",init.title);\n        this.assign(\"action\",init.action);\n        return this.display('index');\n      }\n     async itemAction(){\n\n           let info={\n             db:init.mydb,\n             edit:init.edit,\n             add:init.add,\n             id:this.get('id')\n           }\n           let mydata=await this.model('util').getItem(info);\n           let roleList=await this.model('admin').findAll('manage_role');\n           this.assign(\"roleList\",roleList);\n           this.assign(\"title\",mydata.title);\n           this.assign('item',mydata.item);\n           this.assign(\"action\",init.action);\n           return this.display();\n     }\n\n     //编辑或者新增接口\n     async saveAction() {\n          let newData=this.post();\n              newData.password=think.md5(newData.password);\n          let info={\n            db:init.mydb,\n            data:newData,\n            id:this.post('id')\n          }\n          let mydata=await this.model('util').doSave(info);\n          if(mydata.status===1) return this.success();\n    }\n\n    //删除或批量删除接口\n    async delsomeAction(){\n          let info={\n            db:init.mydb,\n            arr:this.post('delarr[]')\n          }\n          let where={id: [\"IN\", info.arr]};\n          let rs=await this.model(\"admin\").deleteRecord(info.db,where);\n          if(rs) return this.success();\n    }\n\n}\n"
    ]
}